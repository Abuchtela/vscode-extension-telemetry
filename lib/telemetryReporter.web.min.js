(()=>{var Yo=Object.create;var Vr=Object.defineProperty;var $o=Object.getOwnPropertyDescriptor;var Zo=Object.getOwnPropertyNames,ta=Object.getOwnPropertySymbols,Qo=Object.getPrototypeOf,ra=Object.prototype.hasOwnProperty,es=Object.prototype.propertyIsEnumerable;var na=(e,t,r)=>t in e?Vr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xr=(e,t)=>{for(var r in t||(t={}))ra.call(t,r)&&na(e,r,t[r]);if(ta)for(var r of ta(t))es.call(t,r)&&na(e,r,t[r]);return e};var ts=e=>Vr(e,"__esModule",{value:!0});var rs=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var ns=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Zo(t))!ra.call(e,n)&&n!=="default"&&Vr(e,n,{get:()=>t[n],enumerable:!(r=$o(t,n))||r.enumerable});return e},is=e=>ns(ts(Vr(e!=null?Yo(Qo(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var ia={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5};var et="function",Le="object",De="undefined",me="prototype",yr="hasOwnProperty";var tt=Object,Xt=tt[me],Yt=tt.assign,qr=tt.create,Gr=tt.defineProperty,Ft=Xt[yr];function Ke(){return typeof globalThis!==De&&globalThis?globalThis:typeof self!==De&&self?self:typeof window!==De&&window?window:typeof global!==De&&global?global:null}function $t(e){throw new TypeError(e)}function Rt(e){var t=qr;if(t)return t(e);if(e==null)return{};var r=typeof e;r!==Le&&r!==et&&$t("Object prototype may only be an Object:"+e);function n(){}return n[me]=e,new n}var Dc=(Ke()||{}).Symbol,Ac=(Ke()||{}).Reflect;var os=function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Xt[yr].call(t,i)&&(e[i]=t[i])}return e},ct=Yt||os,Nn=function(e,t){return Nn=tt.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n[yr](i)&&(r[i]=n[i])},Nn(e,t)};function O(e,t){typeof t!==et&&t!==null&&$t("Class extends value "+String(t)+" is not a constructor or null"),Nn(e,t);function r(){this.constructor=e}e[me]=t===null?Rt(t):(r[me]=t[me],new r)}var Kr="constructor",dt="prototype",Wr="function",Jr="_dynInstFuncs",Fn="_isDynProxy",Zt="_dynClass",ss="_dynCls$",Rn="_dynInstChk",Sr=Rn,aa="_dfOpts",oa="_unknown_",cs="__proto__",kn="useBaseInst",sa="setInstFuncs",Xr=Object,Cr=Xr.getPrototypeOf,ca=0;function Ct(e,t){return e&&Xr[dt].hasOwnProperty.call(e,t)}function ua(e){return e&&(e===Xr[dt]||e===Array[dt])}function Mn(e){return ua(e)||e===Function[dt]}function kt(e){if(e){if(Cr)return Cr(e);var t=e[cs]||e[dt]||(e[Kr]?e[Kr][dt]:null);if(t)return t}return null}function Yr(e,t){var r=[],n=Xr.getOwnPropertyNames;if(n)r=n(e);else for(var i in e)typeof i=="string"&&Ct(e,i)&&r.push(i);if(r&&r.length>0)for(var a=0;a<r.length;a++)t(r[a])}function Ln(e,t,r){return t!==Kr&&typeof e[t]===Wr&&(r||Ct(e,t))}function $r(e){throw new TypeError("DynamicProto: "+e)}function us(e){var t={};return Yr(e,function(r){!t[r]&&Ln(e,r,!1)&&(t[r]=e[r])}),t}function Un(e,t){for(var r=e.length-1;r>=0;r--)if(e[r]===t)return!0;return!1}function fs(e,t,r,n){function i(o,u,f){var l=u[f];if(l[Fn]&&n){var m=o[Jr]||{};m[Sr]!==!1&&(l=(m[u[Zt]]||{})[f]||l)}return function(){return l.apply(o,arguments)}}var a={};Yr(r,function(o){a[o]=i(t,r,o)});for(var s=kt(e),c=[];s&&!Mn(s)&&!Un(c,s);)Yr(s,function(o){!a[o]&&Ln(s,o,!Cr)&&(a[o]=i(t,s,o))}),c.push(s),s=kt(s);return a}function ls(e,t,r,n){var i=null;if(e&&Ct(r,Zt)){var a=e[Jr]||{};if(i=(a[r[Zt]]||{})[t],i||$r("Missing ["+t+"] "+Wr),!i[Rn]&&a[Sr]!==!1){for(var s=!Ct(e,t),c=kt(e),o=[];s&&c&&!Mn(c)&&!Un(o,c);){var u=c[t];if(u){s=u===n;break}o.push(c),c=kt(c)}try{s&&(e[t]=i),i[Rn]=1}catch(f){a[Sr]=!1}}}return i}function ps(e,t,r){var n=t[e];return n===r&&(n=kt(t)[e]),typeof n!==Wr&&$r("["+e+"] is not a "+Wr),n}function ds(e,t,r,n,i){function a(o,u){var f=function(){var l=ls(this,u,o,f)||ps(u,o,f);return l.apply(this,arguments)};return f[Fn]=1,f}if(!ua(e)){var s=r[Jr]=r[Jr]||{},c=s[t]=s[t]||{};s[Sr]!==!1&&(s[Sr]=!!i),Yr(r,function(o){Ln(r,o,!1)&&r[o]!==n[o]&&(c[o]=r[o],delete r[o],(!Ct(e,o)||e[o]&&!e[o][Fn])&&(e[o]=a(e,o)))})}}function ms(e,t){if(Cr)for(var r=[],n=kt(t);n&&!Mn(n)&&!Un(r,n);){if(n===e)return!0;r.push(n),n=kt(n)}return!1}function _n(e,t){return Ct(e,dt)?e.name||t||oa:((e||{})[Kr]||{}).name||t||oa}function On(e,t,r,n){Ct(e,dt)||$r("theClass is an invalid class definition.");var i=e[dt];ms(i,t)||$r("["+_n(e)+"] is not in class hierarchy of ["+_n(t)+"]");var a=null;Ct(i,Zt)?a=i[Zt]:(a=ss+_n(e,"_")+"$"+ca,ca++,i[Zt]=a);var s=On[aa],c=!!s[kn];c&&n&&n[kn]!==void 0&&(c=!!n[kn]);var o=us(t),u=fs(i,t,o,c);r(t,u);var f=!!Cr&&!!s[sa];f&&n&&(f=!!n[sa]),ds(i,a,t,o,f!==!1)}var gs={setInstFuncs:!0,useBaseInst:!0};On[aa]=gs;var K=On;var y;(function(e){e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING"})(y||(y={}));var h={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103};var fa="on",la="attachEvent",pa="addEventListener",da="detachEvent",ma="removeEventListener",ga=Gr,eu=tt.freeze,tu=tt.seal;function Hn(e){return Xt.toString.call(e)}function ce(e){return e===void 0||typeof e===De}function S(e){return e===null||ce(e)}function jn(e){return!S(e)}function Ir(e,t){return e&&Ft.call(e,t)}function rt(e){return typeof e===Le}function j(e){return typeof e===et}function Mt(e,t,r,n){n===void 0&&(n=!1);var i=!1;if(!S(e))try{S(e[pa])?S(e[la])||(e[la](fa+t,r),i=!0):(e[pa](t,r,n),i=!0)}catch(a){}return i}function Zr(e,t,r,n){if(n===void 0&&(n=!1),!S(e))try{S(e[ma])?S(e[da])||e[da](fa+t,r):e[ma](t,r,n)}catch(i){}}function zn(e){var t=e,r=/([^\w\d_$])/g;return r.test(e)&&(t=e.replace(r,"_")),t}function $(e,t){if(e)for(var r in e)Ft.call(e,r)&&t.call(e,r,e[r])}function Bn(e,t){if(e&&t){var r=t.length,n=e.length;if(e===t)return!0;if(n>=r){for(var i=n-1,a=r-1;a>=0;a--){if(e[i]!=t[a])return!1;i--}return!0}}return!1}function ge(e,t){return e&&t?e.indexOf(t)!==-1:!1}function Qr(e){return Hn(e)==="[object Date]"}function Ae(e){return Hn(e)==="[object Array]"}function Qt(e){return Hn(e)==="[object Error]"}function U(e){return typeof e=="string"}function er(e){return typeof e=="number"}function Ne(e){if(Qr(e)){var t=function(r){var n=String(r);return n.length===1&&(n="0"+n),n};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function k(e,t,r){for(var n=e.length,i=0;i<n&&!(i in e&&t.call(r||e,e[i],i,e)===-1);i++);}function Lt(e,t,r){for(var n=e.length,i=r||0,a=Math.max(i>=0?i:n-Math.abs(i),0);a<n;a++)if(a in e&&e[a]===t)return a;return-1}function Ut(e,t,r){for(var n=e.length,i=r||e,a=new Array(n),s=0;s<n;s++)s in e&&(a[s]=t.call(i,e[s],e));return a}function en(e,t,r){var n=e.length,i=0,a;if(arguments.length>=3)a=arguments[2];else{for(;i<n&&!(i in e);)i++;a=e[i++]}for(;i<n;)i in e&&(a=t(a,e[i],i,e)),i++;return a}function oe(e){return typeof e!="string"?e:e.replace(/^\s+|\s+$/g,"")}var vs=!{toString:null}.propertyIsEnumerable("toString"),Vn=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function We(e){var t=typeof e;t!==et&&(t!==Le||e===null)&&$t("objKeys called on non-object");var r=[];for(var n in e)e&&Ft.call(e,n)&&r.push(n);if(vs)for(var i=Vn.length,a=0;a<i;a++)e&&Ft.call(e,Vn[a])&&r.push(Vn[a]);return r}function It(e,t,r,n){if(ga)try{var i={enumerable:!0,configurable:!0};return r&&(i.get=r),n&&(i.set=n),ga(e,t,i),!0}catch(a){}return!1}function ve(){var e=Date;return e.now?e.now():new e().getTime()}function G(e){return Qt(e)?e.name:""}function q(e,t,r,n,i){var a=r;return e&&(a=e[t],a!==r&&(!i||i(a))&&(!n||n(r))&&(a=r,e[t]=a)),a}function ue(e,t,r){var n;return e?(n=e[t],!n&&S(n)&&(n=ce(r)?{}:r,e[t]=n)):n=ce(r)?{}:r,n}function tn(e){return!e}function tr(e){return!!e}function Pe(e){throw new Error(e)}function qn(e,t,r){if(e&&t&&e!==t&&rt(e)&&rt(t)){var n=function(a){if(U(a)){var s=t[a];j(s)?(!r||r(a,!0,t,e))&&(e[a]=function(c){return function(){var o=arguments;return t[c].apply(t,o)}}(a)):(!r||r(a,!1,t,e))&&(Ir(e,a)&&delete e[a],It(e,a,function(){return t[a]},function(c){t[a]=c})||(e[a]=s))}};for(var i in t)n(i)}return e}function Gn(e){return function(){function t(){var r=this;e&&$(e,function(n,i){r[n]=i})}return t}()}function rn(e){return e&&(e=tt(Yt?Yt({},e):e)),e}"use strict";var va="window",hs="document",xs="navigator",ys="history",Ss="location",Cs="console",Is="performance",ha="JSON",Ts="crypto",Es="msCrypto",ws="ReactNative",Kn="msie",Wn="trident/",Jn=null,Xn=null,Ps=!1;function Ce(e){var t=Ke();return t&&t[e]?t[e]:e===va&&_t()?window:null}function _t(){return Boolean(typeof window===Le&&window)}function ut(){return _t()?window:Ce(va)}function nn(){return Boolean(typeof document===Le&&document)}function Ie(){return nn()?document:Ce(hs)}function xa(){return Boolean(typeof navigator===Le&&navigator)}function Ee(){return xa()?navigator:Ce(xs)}function ya(){return Boolean(typeof history===Le&&history)}function Yn(){return ya()?history:Ce(ys)}function _e(e){if(e&&Ps){var t=Ce("__mockLocation");if(t)return t}return typeof location===Le&&location?location:Ce(Ss)}function $n(){return typeof console!==De?console:Ce(Cs)}function Oe(){return Ce(Is)}function nt(){return Boolean(typeof JSON===Le&&JSON||Ce(ha)!==null)}function he(){return nt()?JSON||Ce(ha):null}function Zn(){return Ce(Ts)}function Qn(){return Ce(Es)}function ei(){var e=Ee();return e&&e.product?e.product===ws:!1}function Ot(){var e=Ee();if(e&&(e.userAgent!==Xn||Jn===null)){Xn=e.userAgent;var t=(Xn||"").toLowerCase();Jn=ge(t,Kn)||ge(t,Wn)}return Jn}function rr(e){if(e===void 0&&(e=null),!e){var t=Ee()||{};e=t?(t.userAgent||"").toLowerCase():""}var r=(e||"").toLowerCase();if(ge(r,Kn))return parseInt(r.split(Kn)[1]);if(ge(r,Wn)){var n=parseInt(r.split(Wn)[1]);if(n)return n+4}return null}function _(e){var t=Object[me].toString.call(e),r="";return t==="[object Error]"?r="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":nt()&&(r=he().stringify(e)),t+r}"use strict";var bs="AI (Internal): ",Ds="AI: ",As="AITR_";function Sa(e){return e?'"'+e.replace(/\"/g,"")+'"':""}var mt=function(){function e(t,r,n,i){n===void 0&&(n=!1);var a=this;a.messageId=t,a.message=(n?Ds:bs)+t;var s="";nt()&&(s=he().stringify(i));var c=(r?" message:"+Sa(r):"")+(i?" props:"+Sa(s):"");a.message+=c}return e.dataType="MessageData",e}();function gt(e,t){return(e||{}).logger||new an(t)}var an=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={};K(e,this,function(i){S(t)&&(t={}),i.consoleLoggingLevel=function(){return a("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return a("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return a("maxMessageLimit",25)},i.enableDebugExceptions=function(){return a("enableDebugExceptions",!1)},i.throwInternal=function(c,o,u,f,l){l===void 0&&(l=!1);var m=new mt(o,u,l,f);if(i.enableDebugExceptions())throw m;if(!ce(m.message)){var C=i.consoleLoggingLevel();if(l){var T=+m.messageId;!n[T]&&C>=y.WARNING&&(i.warnToConsole(m.message),n[T]=!0)}else C>=y.WARNING&&i.warnToConsole(m.message);i.logInternalMessage(c,m)}},i.warnToConsole=function(c){var o=$n();if(o){var u="log";o.warn&&(u="warn"),j(o[u])&&o[u](c)}},i.resetInternalMessageCount=function(){r=0,n={}},i.logInternalMessage=function(c,o){if(!s()){var u=!0,f=As+o.messageId;if(n[f]?u=!1:n[f]=!0,u&&(c<=i.telemetryLoggingLevel()&&(i.queue.push(o),r++),r===i.maxInternalMessageLimit())){var l="Internal events throttle limit per PageView reached for this app.",m=new mt(h.MessageLimitPerPVExceeded,l,!1);i.queue.push(m),i.warnToConsole(l)}}};function a(c,o){var u=t[c];return S(u)?o:u}function s(){return r>=i.maxInternalMessageLimit()}})}return e}();var nr="ctx",Tr=function(){function e(t,r,n){var i=this,a=!1;if(i.start=ve(),i.name=t,i.isAsync=n,i.isChildEvt=function(){return!1},j(r)){var s;a=It(i,"payload",function(){return!s&&j(r)&&(s=r(),r=null),s})}i.getCtx=function(c){return c?c===e.ParentContextKey||c===e.ChildrenContextKey?i[c]:(i[nr]||{})[c]:null},i.setCtx=function(c,o){if(c)if(c===e.ParentContextKey)i[c]||(i.isChildEvt=function(){return!0}),i[c]=o;else if(c===e.ChildrenContextKey)i[c]=o;else{var u=i[nr]=i[nr]||{};u[c]=o}},i.complete=function(){var c=0,o=i.getCtx(e.ChildrenContextKey);if(Ae(o))for(var u=0;u<o.length;u++){var f=o[u];f&&(c+=f.time)}i.time=ve()-i.start,i.exTime=i.time-c,i.complete=function(){},!a&&j(r)&&(i.payload=r())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}();var ti=function(){function e(t){this.ctx={},K(e,this,function(r){r.create=function(n,i,a){return new Tr(n,i,a)},r.fire=function(n){n&&(n.complete(),t&&t.perfEvent(n))},r.setCtx=function(n,i){if(n){var a=r[nr]=r[nr]||{};a[n]=i}},r.getCtx=function(n){return(r[nr]||{})[n]}})}return e}();var ri="CoreUtils.doPerf";function ft(e,t,r,n,i){if(e){var a=e;if(j(a.getPerfMgr)&&(a=a.getPerfMgr()),a){var s=void 0,c=a.getCtx(ri);try{if(s=a.create(t(),n,i),s){if(c&&s.setCtx&&(s.setCtx(Tr.ParentContextKey,c),c.getCtx&&c.setCtx)){var o=c.getCtx(Tr.ChildrenContextKey);o||(o=[],c.setCtx(Tr.ChildrenContextKey,o)),o.push(s)}return a.setCtx(ri,s),r(s)}}catch(u){s&&s.setCtx&&s.setCtx("exception",u)}finally{s&&a.fire(s),a.setCtx(ri,c)}}}return r()}"use strict";var Ca=function(){function e(t,r){var n=this,i=null,a=j(t.processTelemetry),s=j(t.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return t},n.getNext=function(){return i},n.setNext=function(c){i=c},n.processTelemetry=function(c,o){o||(o=r);var u=t?t.identifier:"TelemetryPluginChain";ft(o?o.core():null,function(){return u+":processTelemetry"},function(){if(t&&a){n._hasRun=!0;try{o.setNext(i),s&&t.setNextPlugin(i),i&&(i._hasRun=!1),t.processTelemetry(c,o)}catch(l){var f=i&&i._hasRun;(!i||!f)&&o.diagLog().throwInternal(y.CRITICAL,h.PluginException,"Plugin ["+t.identifier+"] failed during processTelemetry - "+l),i&&!f&&i.processTelemetry(c,o)}}else i&&(n._hasRun=!0,i.processTelemetry(c,o))},function(){return{item:c}},!c.sync)}}return e}();"use strict";function ni(e,t){var r=[];if(e&&e.length>0)for(var n=null,i=0;i<e.length;i++){var a=e[i];if(a&&j(a.processTelemetry)){var s=new Ca(a,t);r.push(s),n&&n.setNext(s),n=s}}return r.length>0?r[0]:null}function Ns(e,t,r){var n=[],i=!r;if(e)for(;e;){var a=e.getPlugin();(i||a===r)&&(i=!0,n.push(a)),e=e.getNext()}return i||n.push(r),ni(n,t)}function Fs(e,t,r){var n=e,i=!1;return r&&e&&(n=[],k(e,function(a){(i||a===r)&&(i=!0,n.push(a))})),r&&!i&&(n||(n=[]),n.push(r)),ni(n,t)}var vt=function(){function e(t,r,n,i){var a=this,s=null;i!==null&&(t&&j(t.getPlugin)?s=Ns(t,a,i||t.getPlugin()):i?s=Fs(t,a,i):ce(i)&&(s=ni(t,a))),a.core=function(){return n},a.diagLog=function(){return gt(n,r)},a.getCfg=function(){return r},a.getExtCfg=function(c,o){o===void 0&&(o={});var u;if(r){var f=r.extensionConfig;f&&c&&(u=f[c])}return u||o},a.getConfig=function(c,o,u){u===void 0&&(u=!1);var f,l=a.getExtCfg(c,null);return l&&!S(l[o])?f=l[o]:r&&!S(r[o])&&(f=r[o]),S(f)?u:f},a.hasNext=function(){return s!=null},a.getNext=function(){return s},a.setNext=function(c){s=c},a.processNext=function(c){var o=s;o&&(s=o.getNext(),o.processTelemetry(c,a))},a.createNew=function(c,o){return c===void 0&&(c=null),new e(c||s,r,n,o)}}return e}();var Ia="iKey",on="extensionConfig";"use strict";var sn="getPlugin",it=function(){function e(){var t=this,r=!1,n=null,i=null;t.core=null,t.diagLog=function(a){return t._getTelCtx(a).diagLog()},t.isInitialized=function(){return r},t.setInitialized=function(a){r=a},t.setNextPlugin=function(a){i=a},t.processNext=function(a,s){s?s.processNext(a):i&&j(i.processTelemetry)&&i.processTelemetry(a,null)},t._getTelCtx=function(a){a===void 0&&(a=null);var s=a;if(!s){var c=n||new vt(null,{},t.core);i&&i[sn]?s=c.createNew(null,i[sn]):s=c.createNew(null,i)}return s},t._baseTelInit=function(a,s,c,o){a&&q(a,on,[],null,S),!o&&s&&(o=s.getProcessTelContext().getNext());var u=i;i&&i[sn]&&(u=i[sn]()),t.core=s,n=new vt(o,a,s,u),r=!0}}return e.prototype.initialize=function(t,r,n,i){this._baseTelInit(t,r,n,i)},e}();"use strict";var ii="processTelemetry",Ta="priority",Ea="setNextPlugin",wa="isInitialized";function Er(e,t){for(var r=[],n=null,i=e.getNext();i;){var a=i.getPlugin();a&&(n&&j(n[Ea])&&j(a[ii])&&n[Ea](a),(!j(a[wa])||!a[wa]())&&r.push(a),n=a,i=i.getNext())}k(r,function(s){s.initialize(e.getCfg(),e.core(),t,e.getNext())})}function ai(e){return e.sort(function(t,r){var n=0,i=j(r[ii]);return j(t[ii])?n=i?t[Ta]-r[Ta]:1:i&&(n=-1),n})}"use strict";var oi=500,Rs="Channel has invalid priority",Pa=function(e){O(t,e);function t(){var r=e.call(this)||this;r.identifier="ChannelControllerPlugin",r.priority=oi;var n;K(t,r,function(c,o){c.setNextPlugin=function(u){},c.processTelemetry=function(u,f){n&&k(n,function(l){if(l.length>0){var m=r._getTelCtx(f).createNew(l);m.processNext(u)}})},c.getChannelControls=function(){return n},c.initialize=function(u,f,l){c.isInitialized()||(o.initialize(u,f,l),s((u||{}).channels,l),k(n,function(m){return Er(new vt(m,u,f),l)}))}});function i(c){k(c,function(o){o.priority<oi&&Pe(Rs+o.identifier)})}function a(c){c&&c.length>0&&(c=c.sort(function(o,u){return o.priority-u.priority}),i(c),n.push(c))}function s(c,o){if(n=[],c&&k(c,function(f){return a(f)}),o){var u=[];k(o,function(f){f.priority>oi&&u.push(f)}),a(u)}}return r}return t._staticInit=function(){var r=t.prototype;It(r,"ChannelControls",r.getChannelControls),It(r,"channelQueue",r.getChannelControls)}(),t}(it);var ba="toGMTString",Da="toUTCString",si="cookie",ci="expires",ui="enabled",Aa="isCookieUseDisabled",Na="disableCookiesUsage",Tt="_ckMgr",at="",cn=null,fi=null,Fa=null,wr=Ie(),Ra={},un={};function ks(e,t){var r=jt[Tt]||un[Tt];return r||(r=jt[Tt]=jt(e,t),un[Tt]=r),r}function fn(e){return e?e.isEnabled():!0}function Ms(e){var t=e.cookieCfg=e.cookieCfg||{};if(q(t,"domain",e.cookieDomain,jn,S),q(t,"path",e.cookiePath||"/",null,S),S(t[ui])){var r=void 0;ce(e[Aa])||(r=!e[Aa]),ce(e[Na])||(r=!e[Na]),t[ui]=r}return t}function Ht(e,t){var r;if(e)r=e.getCookieMgr();else if(t){var n=t.cookieCfg;n[Tt]?r=n[Tt]:r=jt(t)}return r||(r=ks(t,(e||{}).logger)),r}function jt(e,t){var r=Ms(e||un),n=r.path||"/",i=r.domain,a=r[ui]!==!1,s={isEnabled:function(){var c=a&&li(t),o=un[Tt];return c&&o&&s!==o&&(c=fn(o)),c},setEnabled:function(c){a=c!==!1},set:function(c,o,u,f,l){if(fn(s)){var m={},C=oe(o||at),T=C.indexOf(";");if(T!==-1&&(C=oe(o.substring(0,T)),m=ka(o.substring(T+1))),q(m,"domain",f||i,tr,ce),!S(u)){var P=Ot();if(ce(m[ci])){var p=ve(),v=p+u*1e3;if(v>0){var x=new Date;x.setTime(v),q(m,ci,Ma(x,P?ba:Da)||Ma(x,P?ba:Da)||at,tr)}}P||q(m,"max-age",at+u,null,ce)}var E=_e();E&&E.protocol==="https:"&&(q(m,"secure",null,null,ce),fi===null&&(fi=!pi((Ee()||{}).userAgent)),fi&&q(m,"SameSite","None",null,ce)),q(m,"path",l||n,null,ce);var M=r.setCookie||Ua;M(c,La(C,m))}},get:function(c){var o=at;return fn(s)&&(o=(r.getCookie||Ls)(c)),o},del:function(c,o){fn(s)&&s.purge(c,o)},purge:function(c,o){if(li(t)){var u=(l={},l.path=o||"/",l[ci]="Thu, 01 Jan 1970 00:00:01 GMT",l);Ot()||(u["max-age"]="0");var f=r.delCookie||Ua;f(c,La(at,u))}var l}};return s[Tt]=s,s}function li(e){if(cn===null){cn=!1;try{var t=wr||{};cn=t[si]!==void 0}catch(r){e&&e.throwInternal(y.WARNING,h.CannotAccessCookie,"Cannot access document.cookie - "+G(r),{exception:_(r)})}}return cn}function ka(e){var t={};if(e&&e.length){var r=oe(e).split(";");k(r,function(n){if(n=oe(n||at),n){var i=n.indexOf("=");i===-1?t[n]=null:t[oe(n.substring(0,i))]=oe(n.substring(i+1))}})}return t}function Ma(e,t){return j(e[t])?e[t]():null}function La(e,t){var r=e||at;return $(t,function(n,i){r+="; "+n+(S(i)?at:"="+i)}),r}function Ls(e){var t=at;if(wr){var r=wr[si]||at;Fa!==r&&(Ra=ka(r),Fa=r),t=oe(Ra[e]||at)}return t}function Ua(e,t){wr&&(wr[si]=e+"="+t)}function pi(e){return U(e)?!!(ge(e,"CPU iPhone OS 12")||ge(e,"iPad; CPU OS 12")||ge(e,"Macintosh; Intel Mac OS X 10_14")&&ge(e,"Version/")&&ge(e,"Safari")||ge(e,"Macintosh; Intel Mac OS X 10_14")&&Bn(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||ge(e,"Chrome/5")||ge(e,"Chrome/6")||ge(e,"UnrealEngine")&&!ge(e,"Chrome")||ge(e,"UCBrowser/12")||ge(e,"UCBrowser/11")):!1}"use strict";var Us="Extensions must provide callback to initialize",_a="_notificationManager",Oa=function(){function e(){var t=!1,r,n,i,a,s;K(e,this,function(c){c._extensions=new Array,n=new Pa,c.logger=Rt({throwInternal:function(o,u,f,l,m){m===void 0&&(m=!1)},warnToConsole:function(o){},resetInternalMessageCount:function(){}}),r=[],c.isInitialized=function(){return t},c.initialize=function(o,u,f,l){c.isInitialized()&&Pe("Core should not be initialized more than once"),(!o||S(o.instrumentationKey))&&Pe("Please provide instrumentation key"),i=l,c[_a]=l,c.config=o||{},o.extensions=S(o.extensions)?[]:o.extensions;var m=ue(o,on);m.NotificationManager=l,f&&(c.logger=f);var C=[];C.push.apply(C,u.concat(o.extensions)),C=ai(C);var T=[],P=[],p={};k(C,function(v){(S(v)||S(v.initialize))&&Pe(Us);var x=v.priority,E=v.identifier;v&&x&&(S(p[x])?p[x]=E:f.warnToConsole("Two extensions have same priority #"+x+" - "+p[x]+", "+E)),!x||x<n.priority?T.push(v):P.push(v)}),C.push(n),T.push(n),C=ai(C),c._extensions=C,Er(new vt([n],o,c),C),Er(new vt(T,o,c),C),c._extensions=T,c.getTransmissionControls().length===0&&Pe("No channels available"),t=!0,c.releaseQueue()},c.getTransmissionControls=function(){return n.getChannelControls()},c.track=function(o){q(o,Ia,c.config.instrumentationKey,null,tn),q(o,"time",Ne(new Date),null,tn),q(o,"ver","4.0",null,S),c.isInitialized()?c.getProcessTelContext().processNext(o):r.push(o)},c.getProcessTelContext=function(){var o=c._extensions,u=o;return(!o||o.length===0)&&(u=[n]),new vt(u,c.config,c)},c.getNotifyMgr=function(){return i||(i=Rt({addNotificationListener:function(o){},removeNotificationListener:function(o){},eventsSent:function(o){},eventsDiscarded:function(o,u){},eventsSendRequest:function(o,u){}}),c[_a]=i),i},c.getCookieMgr=function(){return s||(s=jt(c.config,c.logger)),s},c.setCookieMgr=function(o){s=o},c.getPerfMgr=function(){return a||c.config&&c.config.enablePerfMgr&&(a=new ti(c.getNotifyMgr())),a},c.setPerfMgr=function(o){a=o},c.eventCnt=function(){return r.length},c.releaseQueue=function(){r.length>0&&(k(r,function(o){c.getProcessTelContext().processNext(o)}),r=[])}})}return e}();var Ha=function(){function e(t){this.listeners=[];var r=!!(t||{}).perfEvtsSendAll;K(e,this,function(n){n.addNotificationListener=function(i){n.listeners.push(i)},n.removeNotificationListener=function(i){for(var a=Lt(n.listeners,i);a>-1;)n.listeners.splice(a,1),a=Lt(n.listeners,i)},n.eventsSent=function(i){k(n.listeners,function(a){a&&a.eventsSent&&setTimeout(function(){return a.eventsSent(i)},0)})},n.eventsDiscarded=function(i,a){k(n.listeners,function(s){s&&s.eventsDiscarded&&setTimeout(function(){return s.eventsDiscarded(i,a)},0)})},n.eventsSendRequest=function(i,a){k(n.listeners,function(s){if(s&&s.eventsSendRequest)if(a)setTimeout(function(){return s.eventsSendRequest(i,a)},0);else try{s.eventsSendRequest(i,a)}catch(c){}})},n.perfEvent=function(i){i&&(r||!i.isChildEvt())&&k(n.listeners,function(a){if(a&&a.perfEvent)if(i.isAsync)setTimeout(function(){return a.perfEvent(i)},0);else try{a.perfEvent(i)}catch(s){}})}})}return e}();var di=function(e){O(t,e);function t(){var r=e.call(this)||this;return K(t,r,function(n,i){n.initialize=function(c,o,u,f){i.initialize(c,o,u||new an(c),f||new Ha(c))},n.track=function(c){ft(n.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){c===null&&(s(c),Pe("Invalid telemetry item")),a(c),i.track(c)},function(){return{item:c}},!c.sync)},n.addNotificationListener=function(c){var o=n.getNotifyMgr();o&&o.addNotificationListener(c)},n.removeNotificationListener=function(c){var o=n.getNotifyMgr();o&&o.removeNotificationListener(c)},n.pollInternalLogs=function(c){var o=n.config.diagnosticLogInterval;return(!o||!(o>0))&&(o=1e4),setInterval(function(){var u=n.logger?n.logger.queue:[];k(u,function(f){var l={name:c||"InternalMessageId: "+f.messageId,iKey:n.config.instrumentationKey,time:Ne(new Date),baseType:mt.dataType,baseData:{message:f.message}};n.track(l)}),u.length=0},o)};function a(c){if(S(c.name))throw s(c),Error("telemetry name required")}function s(c){var o=n.getNotifyMgr();o&&o.eventsDiscarded([c],ia.InvalidEvent)}}),r}return t}(Oa);var ja=4294967296,zt=4294967295,za=!1,Pr=123456789,br=987654321;function _s(e){e<0&&(e>>>=0),Pr=123456789+e&zt,br=987654321-e&zt,za=!0}function Os(){try{var e=ve()&2147483647;_s((Math.random()*ja^e)+e)}catch(t){}}function ir(e){var t,r=Zn()||Qn();return r&&r.getRandomValues?t=r.getRandomValues(new Uint32Array(1))[0]&zt:Ot()?(za||Os(),t=Ba()&zt):t=Math.floor(ja*Math.random()|0),e||(t>>>=0),t}function Ba(e){br=36969*(br&65535)+(br>>16)&zt,Pr=18e3*(Pr&65535)+(Pr>>16)&zt;var t=(br<<16)+(Pr&65535)>>>0&zt|0;return e||(t>>>=0),t}"use strict";function Et(e,t){var r=!1,n=ut();n&&(r=Mt(n,e,t),r=Mt(n.body,e,t)||r);var i=Ie();return i&&(r=wt.Attach(i,e,t)||r),r}function ar(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=ir()>>>0,n=0,i="";i.length<e;)n++,i+=t.charAt(r&63),r>>>=6,n===5&&(r=(ir()<<2&4294967295|r&3)>>>0,n=0);return i}function Ue(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t="",r,n=0;n<4;n++)r=ir(),t+=e[r&15]+e[r>>4&15]+e[r>>8&15]+e[r>>12&15]+e[r>>16&15]+e[r>>20&15]+e[r>>24&15]+e[r>>28&15];var i=e[8+(ir()&3)|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}var wt={Attach:Mt,AttachEvent:Mt,Detach:Zr,DetachEvent:Zr};var Va="_aiHooks",qa=["req","rsp","hkErr","fnErr"],zs="__proto__",Bs="constructor";function mi(e,t){if(e)for(var r=0;r<e.length&&!t(e[r],r);r++);}function gi(e,t,r,n,i){i>=0&&i<=2&&mi(e,function(a,s){var c=a.cbks,o=c[qa[i]];if(o){t.ctx=function(){var l=n[s]=n[s]||{};return l};try{o.apply(t.inst,r)}catch(l){var u=t.err;try{var f=c[qa[2]];f&&(t.err=l,f.apply(t.inst,r))}catch(m){}finally{t.err=u}}}})}function Vs(e){return function(){var t=this,r=arguments,n=e.h,i={name:e.n,inst:t,ctx:null,set:o},a=[],s=c([i],r);function c(f,l){return mi(l,function(m){f.push(m)}),f}function o(f,l){r=c([],r),r[f]=l,s=c([i],r)}gi(n,i,s,a,0);var u=e.f;try{i.rslt=u.apply(t,r)}catch(f){throw i.err=f,gi(n,i,s,a,3),f}return gi(n,i,s,a,1),i.rslt}}var Ga=Object.getPrototypeOf;function qs(e){if(e){if(Ga)return Ga(e);var t=e[zs]||e[me]||e[Bs];if(t)return t}return null}function Ka(e,t,r){var n=null;return e&&(Ir(e,t)?n=e:r&&(n=Ka(qs(e),t,!1))),n}function vi(e,t,r){return e?Dr(e[me],t,r,!1):null}function Dr(e,t,r,n){if(n===void 0&&(n=!0),e&&t&&r){var i=Ka(e,t,n);if(i){var a=i[t];if(typeof a===et){var s=a[Va];if(!s){s={i:0,n:t,f:a,h:[]};var c=Vs(s);c[Va]=s,i[t]=c}var o={id:s.i,cbks:r,rm:function(){var u=this.id;mi(s.h,function(f,l){if(f.id===u)return s.h.splice(l,1),1})}};return s.i++,s.h.push(o),o}}}return null}var Z={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"};function hi(e,t,r){var n=t.length,i=Wa(e,t);if(i.length!==n){for(var a=0,s=i;r[s]!==void 0;)a++,s=i.substring(0,150-3)+Ja(a);i=s}return i}function Wa(e,t){var r;return t&&(t=oe(t.toString()),t.length>150&&(r=t.substring(0,150),e.throwInternal(y.WARNING,h.NameTooLong,"name is too long.  It has been truncated to "+150+" characters.",{name:t},!0))),r||t}function te(e,t,r){r===void 0&&(r=1024);var n;return t&&(r=r||1024,t=oe(t),t.toString().length>r&&(n=t.toString().substring(0,r),e.throwInternal(y.WARNING,h.StringValueTooLong,"string value is too long. It has been truncated to "+r+" characters.",{value:t},!0))),n||t}function ht(e,t){return Si(e,t,2048,h.UrlTooLong)}function Ar(e,t){var r;return t&&t.length>32768&&(r=t.substring(0,32768),e.throwInternal(y.WARNING,h.MessageTruncated,"message is too long, it has been truncated to "+32768+" characters.",{message:t},!0)),r||t}function xi(e,t){var r;if(t){var n=""+t;n.length>32768&&(r=n.substring(0,32768),e.throwInternal(y.WARNING,h.ExceptionTruncated,"exception is too long, it has been truncated to "+32768+" characters.",{exception:t},!0))}return r||t}function Fe(e,t){if(t){var r={};$(t,function(n,i){if(rt(i)&&nt())try{i=he().stringify(i)}catch(a){e.throwInternal(y.WARNING,h.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:a},!0)}i=te(e,i,8192),n=hi(e,n,r),r[n]=i}),t=r}return t}function Re(e,t){if(t){var r={};$(t,function(n,i){n=hi(e,n,r),r[n]=i}),t=r}return t}function yi(e,t){return t&&Si(e,t,128,h.IdTooLong).toString()}function Si(e,t,r,n){var i;return t&&(t=oe(t),t.length>r&&(i=t.substring(0,r),e.throwInternal(y.WARNING,n,"input is too long, it has been truncated to "+r+" characters.",{data:t},!0))),i||t}function Ja(e){var t="00"+e;return t.substr(t.length-3)}function Bt(e){var t=null;if(j(Event))t=new Event(e);else{var r=Ie();r&&r.createEvent&&(t=r.createEvent("Event"),t.initEvent(e,!0,!0))}return t}function Je(e,t){return t===void 0&&(t=!1),e==null?t:e.toString().toLowerCase()==="true"}function He(e){(isNaN(e)||e<0)&&(e=0),e=Math.round(e);var t=""+e%1e3,r=""+Math.floor(e/1e3)%60,n=""+Math.floor(e/(1e3*60))%60,i=""+Math.floor(e/(1e3*60*60))%24,a=Math.floor(e/(1e3*60*60*24));return t=t.length===1?"00"+t:t.length===2?"0"+t:t,r=r.length<2?"0"+r:r,n=n.length<2?"0"+n:n,i=i.length<2?"0"+i:i,(a>0?a+".":"")+i+":"+n+":"+r+"."+t}function ln(){var e=Ee();return"sendBeacon"in e&&e.sendBeacon}function Ci(e,t){var r=null;return k(e,function(n){if(n.identifier===t)return r=n,-1}),r}function Ii(e,t,r,n,i){return!i&&U(e)&&(e==="Script error."||e==="Script error")}var xt="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",or="sampleRate",sr="ProcessLegacy",Nr="http.method",pn="https://dc.services.visualstudio.com",fe="not_specified";var Pt;(function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"})(Pt||(Pt={}));var Xe;(function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"})(Xe||(Xe={}));var Vt=void 0,qt=void 0;function Ti(){return mn()?dn(Pt.LocalStorage):null}function dn(e){try{if(S(Ke()))return null;var t=new Date,r=Ce(e===Pt.LocalStorage?"localStorage":"sessionStorage");r.setItem(t.toString(),t.toString());var n=r.getItem(t.toString())!==t.toString();if(r.removeItem(t.toString()),!n)return r}catch(i){}return null}function Ei(){return Gt()?dn(Pt.SessionStorage):null}function wi(){Vt=!1,qt=!1}function mn(){return Vt===void 0&&(Vt=!!dn(Pt.LocalStorage)),Vt}function Pi(e,t){var r=Ti();if(r!==null)try{return r.getItem(t)}catch(n){Vt=!1,e.throwInternal(y.WARNING,h.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+G(n),{exception:_(n)})}return null}function bi(e,t,r){var n=Ti();if(n!==null)try{return n.setItem(t,r),!0}catch(i){Vt=!1,e.throwInternal(y.WARNING,h.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+G(i),{exception:_(i)})}return!1}function Di(e,t){var r=Ti();if(r!==null)try{return r.removeItem(t),!0}catch(n){Vt=!1,e.throwInternal(y.WARNING,h.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+G(n),{exception:_(n)})}return!1}function Gt(){return qt===void 0&&(qt=!!dn(Pt.SessionStorage)),qt}function cr(e,t){var r=Ei();if(r!==null)try{return r.getItem(t)}catch(n){qt=!1,e.throwInternal(y.WARNING,h.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+G(n),{exception:_(n)})}return null}function ur(e,t,r){var n=Ei();if(n!==null)try{return n.setItem(t,r),!0}catch(i){qt=!1,e.throwInternal(y.WARNING,h.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+G(i),{exception:_(i)})}return!1}function Ai(e,t){var r=Ei();if(r!==null)try{return r.removeItem(t),!0}catch(n){qt=!1,e.throwInternal(y.WARNING,h.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+G(n),{exception:_(n)})}return!1}var Xa=Ie()||{},Ya=0,Ys=[null,null,null,null,null];function Fr(e){var t=Ya,r=Ys,n=r[t];return Xa.createElement?r[t]||(n=r[t]=Xa.createElement("a")):n={host:Ni(e,!0)},n.href=e,t++,t>=r.length&&(t=0),Ya=t,n}function gn(e){var t,r=Fr(e);return r&&(t=r.href),t}function vn(e,t){return e?e.toUpperCase()+" "+t:t}function Ni(e,t){var r=hn(e,t)||"";if(r){var n=r.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(n!=null&&n.length>3&&U(n[2])&&n[2].length>0)return n[2]+(n[3]||"")}return r}function hn(e,t){var r=null;if(e){var n=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(n!=null&&n.length>2&&U(n[2])&&n[2].length>0&&(r=n[2]||"",t&&n.length>2)){var i=(n[1]||"").toLowerCase(),a=n[3]||"";(i==="http"&&a===":80"||i==="https"&&a===":443")&&(a=""),r+=a}}return r}var Zs=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];function Rr(e){return Zs.indexOf(e.toLowerCase())!==-1}var yt={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,r){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns){for(var n=0;n<e.correlationHeaderExcludePatterns.length;n++)if(e.correlationHeaderExcludePatterns[n].test(t))return!1}var i=Fr(t).host.toLowerCase();if(i&&(i.indexOf(":443")!==-1||i.indexOf(":80")!==-1)&&(i=(hn(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==r)return!1;var a=e&&e.correlationHeaderDomains;if(a){var s;if(k(a,function(u){var f=new RegExp(u.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));s=s||f.test(i)}),!s)return!1}var c=e&&e.correlationHeaderExcludedDomains;if(!c||c.length===0)return!0;for(var n=0;n<c.length;n++){var o=new RegExp(c[n].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(o.test(i))return!1}return i&&i.length>0},getCorrelationContext:function(e){if(e){var t=yt.getCorrelationContextValue(e,Z.requestContextTargetKey);if(t&&t!==yt.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var r=e.split(","),n=0;n<r.length;++n){var i=r[n].split("=");if(i.length===2&&i[0]===t)return i[1]}}};function $a(e,t,r,n){var i,a=n,s=n;if(t&&t.length>0){var c=Fr(t);if(i=c.host,!a)if(c.pathname!=null){var o=c.pathname.length===0?"/":c.pathname;o.charAt(0)!=="/"&&(o="/"+o),s=c.pathname,a=te(e,r?r+" "+o:o)}else a=te(e,t)}else i=n,a=n;return{target:i,name:a,data:s}}function fr(){var e=Oe();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return ve()}function xe(e,t){var r=null;return e!==0&&t!==0&&!S(e)&&!S(t)&&(r=t-e),r}var Qs=";",ec="=";function Fi(e){if(!e)return{};var t=e.split(Qs),r=en(t,function(i,a){var s=a.split(ec);if(s.length===2){var c=s[0].toLowerCase(),o=s[1];i[c]=o}return i},{});if(We(r).length>0){if(r.endpointsuffix){var n=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+n+"dc."+r.endpointsuffix}r.ingestionendpoint=r.ingestionendpoint||pn}return r}var Ri=function(){function e(){}return e}();var ki=function(e){O(t,e);function t(){return e.call(this)||this}return t}(Ri);var Za=function(){function e(){this.ver=1,this.sampleRate=100,this.tags={}}return e}();var xn=function(e){O(t,e);function t(r,n,i){var a=e.call(this)||this;return a.name=te(r,i)||fe,a.data=n,a.time=Ne(new Date),a.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return a.sampleRate===100?4:1},tags:1,data:1},a}return t}(Za);var yn=function(){function e(){this.ver=2,this.properties={},this.measurements={}}return e}();var je=function(e){O(t,e);function t(r,n,i,a){var s=e.call(this)||this;return s.aiDataContract={ver:1,name:1,properties:0,measurements:0},s.name=te(r,n)||fe,s.properties=Fe(r,i),s.measurements=Re(r,a),s}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(yn);var Qa=function(){function e(){}return e}();var eo=function(){function e(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}return e}();var to=function(){function e(){this.hasFullStack=!0,this.parsedStack=[]}return e}();var tc="<no_method>",lr="error",Ye="stack",Mi="stackDetails",ro="errorSrc",Li="message",no="description";function Ui(e,t){var r=e;return r&&!U(r)&&(JSON&&JSON.stringify?(r=JSON.stringify(e),t&&(!r||r==="{}")&&(j(e.toString)?r=e.toString():r=""+e)):r=""+e+" - (Missing JSON.stringify)"),r||""}function io(e,t){var r=e;return e&&(r=e[Li]||e[no]||"",r&&!U(r)&&(r=Ui(r,!0)),e.filename&&(r=r+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&t!=="String"&&t!=="Object"&&t!=="Error"&&(r||"").indexOf(t)===-1&&(r=t+": "+r),r||""}function rc(e){return rt(e)?"hasFullStack"in e&&"typeName"in e:!1}function nc(e){return rt(e)?"ver"in e&&"exceptions"in e&&"properties"in e:!1}function ao(e){return e&&e.src&&U(e.src)&&e.obj&&Ae(e.obj)}function pr(e){var t=e||"";U(t)||(U(t[Ye])?t=t[Ye]:t=""+t);var r=t.split(`
`);return{src:t,obj:r}}function ic(e){for(var t=[],r=e.split(`
`),n=0;n<r.length;n++){var i=r[n];r[n+1]&&(i+="@"+r[n+1],n++),t.push(i)}return{src:e,obj:t}}function oo(e){var t=null;if(e)try{if(e[Ye])t=pr(e[Ye]);else if(e[lr]&&e[lr][Ye])t=pr(e[lr][Ye]);else if(e.exception&&e.exception[Ye])t=pr(e.exception[Ye]);else if(ao(e))t=e;else if(ao(e[Mi]))t=e[Mi];else if(window.opera&&e[Li])t=ic(e.message);else if(U(e))t=pr(e);else{var r=e[Li]||e[no]||"";U(e[ro])&&(r&&(r+=`
`),r+=" from "+e[ro]),r&&(t=pr(r))}}catch(n){t=pr(n)}return t||{src:"",obj:null}}function ac(e){var t="";return e&&(e.obj?k(e.obj,function(r){t+=r+`
`}):t=e.src||""),t}function oc(e){var t,r=e.obj;if(r&&r.length>0){t=[];var n=0,i=0;k(r,function(T){var P=T.toString();if(Oi.regex.test(P)){var p=new Oi(P,n++);i+=p.sizeInBytes,t.push(p)}});var a=32*1024;if(i>a)for(var s=0,c=t.length-1,o=0,u=s,f=c;s<c;){var l=t[s].sizeInBytes,m=t[c].sizeInBytes;if(o+=l+m,o>a){var C=f-u+1;t.splice(u,C);break}u=s,f=c,s++,c--}}return t}function Sn(e){var t="";if(e&&(t=e.typeName||e.name||"",!t))try{var r=/function (.{1,200})\(/,n=r.exec(e.constructor.toString());t=n&&n.length>1?n[1]:""}catch(i){}return t}function _i(e){if(e)try{if(!U(e)){var t=Sn(e),r=Ui(e,!1);return(!r||r==="{}")&&(e[lr]&&(e=e[lr],t=Sn(e)),r=Ui(e,!0)),r.indexOf(t)!==0&&t!=="String"?t+":"+r:r}}catch(n){}return""+(e||"")}var we=function(e){O(t,e);function t(r,n,i,a,s,c){var o=e.call(this)||this;return o.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},nc(n)?(o.exceptions=n.exceptions,o.properties=n.properties,o.measurements=n.measurements,n.severityLevel&&(o.severityLevel=n.severityLevel),n.id&&(o.id=n.id),n.problemGroup&&(o.problemGroup=n.problemGroup),o.ver=2,S(n.isManual)||(o.isManual=n.isManual)):(i||(i={}),o.exceptions=[new so(r,n,i)],o.properties=Fe(r,i),o.measurements=Re(r,a),s&&(o.severityLevel=s),c&&(o.id=c)),o}return t.CreateAutoException=function(r,n,i,a,s,c,o,u){var f=Sn(s||c||r);return{message:io(r,f),url:n,lineNumber:i,columnNumber:a,error:_i(s||c||r),evt:_i(c||r),typeName:f,stackDetails:oo(o||s||c),errorSrc:u}},t.CreateFromInterface=function(r,n,i,a){var s=n.exceptions&&Ut(n.exceptions,function(o){return so.CreateFromInterface(r,o)}),c=new t(r,ct({},n,{exceptions:s}),i,a);return c},t.prototype.toInterface=function(){var r=this,n=r.exceptions,i=r.properties,a=r.measurements,s=r.severityLevel,c=r.ver,o=r.problemGroup,u=r.id,f=r.isManual,l=n instanceof Array&&Ut(n,function(m){return m.toInterface()})||void 0;return{ver:"4.0",exceptions:l,severityLevel:s,properties:i,measurements:a,problemGroup:o,id:u,isManual:f}},t.CreateSimpleException=function(r,n,i,a,s,c){return{exceptions:[{hasFullStack:!0,message:r,stack:s,typeName:n}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=_i,t}(eo);var so=function(e){O(t,e);function t(r,n,i){var a=e.call(this)||this;if(a.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},rc(n))a.typeName=n.typeName,a.message=n.message,a[Ye]=n[Ye],a.parsedStack=n.parsedStack,a.hasFullStack=n.hasFullStack;else{var s=n,c=s&&s.evt;Qt(s)||(s=s[lr]||c||s),a.typeName=te(r,Sn(s))||fe,a.message=Ar(r,io(n||s,a.typeName))||fe;var o=n[Mi]||oo(n);a.parsedStack=oc(o),a[Ye]=xi(r,ac(o)),a.hasFullStack=Ae(a.parsedStack)&&a.parsedStack.length>0,i&&(i.typeName=i.typeName||a.typeName)}return a}return t.prototype.toInterface=function(){var r=this.parsedStack instanceof Array&&Ut(this.parsedStack,function(i){return i.toInterface()}),n={id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Ye],parsedStack:r||void 0};return n},t.CreateFromInterface=function(r,n){var i=n.parsedStack instanceof Array&&Ut(n.parsedStack,function(s){return Oi.CreateFromInterface(s)})||n.parsedStack,a=new t(r,ct({},n,{parsedStack:i}));return a},t}(to);var Oi=function(e){O(t,e);function t(r,n){var i=e.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},typeof r=="string"){var a=r;i.level=n,i.method=tc,i.assembly=oe(a),i.fileName="",i.line=0;var s=a.match(t.regex);s&&s.length>=5&&(i.method=oe(s[2])||i.method,i.fileName=oe(s[4]),i.line=parseInt(s[5])||0)}else i.level=r.level,i.method=r.method,i.assembly=r.assembly,i.fileName=r.fileName,i.line=r.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=t.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return t.CreateFromInterface=function(r){return new t(r,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(Qa);var co=function(){function e(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}return e}();var Cn;(function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"})(Cn||(Cn={}));var uo=function(){function e(){this.kind=Cn.Measurement}return e}();var fo=function(e){O(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},r}return t}(uo);var ze=function(e){O(t,e);function t(r,n,i,a,s,c,o,u){var f=e.call(this)||this;f.aiDataContract={ver:1,metrics:1,properties:0};var l=new fo;return l.count=a>0?a:void 0,l.max=isNaN(c)||c===null?void 0:c,l.min=isNaN(s)||s===null?void 0:s,l.name=te(r,n)||fe,l.value=i,f.metrics=[l],f.properties=Fe(r,o),f.measurements=Re(r,u),f}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(co);var kr=function(e){O(t,e);function t(){var r=e.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return t}(yn);var ke=function(e){O(t,e);function t(r,n,i,a,s,c,o){var u=e.call(this)||this;return u.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},u.id=yi(r,o),u.url=ht(r,i),u.name=te(r,n)||fe,isNaN(a)||(u.duration=He(a)),u.properties=Fe(r,s),u.measurements=Re(r,c),u}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(kr);var lo=function(){function e(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}return e}();var Be=function(e){O(t,e);function t(r,n,i,a,s,c,o,u,f,l,m,C){f===void 0&&(f="Ajax");var T=e.call(this)||this;T.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},T.id=n,T.duration=He(s),T.success=c,T.resultCode=o+"",T.type=te(r,f);var P=$a(r,i,u,a);return T.data=ht(r,a)||P.data,T.target=te(r,P.target),l&&(T.target=T.target+" | "+l),T.name=te(r,P.name),T.properties=Fe(r,m),T.measurements=Re(r,C),T}return t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}(lo);var po=function(){function e(){this.ver=2,this.properties={},this.measurements={}}return e}();var ot=function(e){O(t,e);function t(r,n,i,a,s){var c=e.call(this)||this;return c.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},n=n||fe,c.message=Ar(r,n),c.properties=Fe(r,a),c.measurements=Re(r,s),i&&(c.severityLevel=i),c}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}(po);var mo=function(e){O(t,e);function t(){var r=e.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return t}(kr);var st=function(e){O(t,e);function t(r,n,i,a,s,c,o){var u=e.call(this)||this;return u.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},u.url=ht(r,i),u.name=te(r,n)||fe,u.properties=Fe(r,s),u.measurements=Re(r,c),o&&(u.domProcessing=o.domProcessing,u.duration=o.duration,u.networkConnect=o.networkConnect,u.perfTotal=o.perfTotal,u.receivedResponse=o.receivedResponse,u.sentRequest=o.sentRequest),u}return t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(mo);var lt=function(e){O(t,e);function t(r,n){var i=e.call(this)||this;return i.aiDataContract={baseType:1,baseData:1},i.baseType=r,i.baseData=n,i}return t}(ki);var dr;(function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"})(dr||(dr={}));function bt(e){var t="ai."+e+".";return function(r){return t+r}}var Mr=bt("application"),ye=bt("device"),In=bt("location"),mr=bt("operation"),Hi=bt("session"),Dt=bt("user"),Kt=bt("cloud"),Lr=bt("internal"),gr=function(e){O(t,e);function t(){return e.call(this)||this}return t}(Gn({applicationVersion:Mr("ver"),applicationBuild:Mr("build"),applicationTypeId:Mr("typeId"),applicationId:Mr("applicationId"),applicationLayer:Mr("layer"),deviceId:ye("id"),deviceIp:ye("ip"),deviceLanguage:ye("language"),deviceLocale:ye("locale"),deviceModel:ye("model"),deviceFriendlyName:ye("friendlyName"),deviceNetwork:ye("network"),deviceNetworkName:ye("networkName"),deviceOEMName:ye("oemName"),deviceOS:ye("os"),deviceOSVersion:ye("osVersion"),deviceRoleInstance:ye("roleInstance"),deviceRoleName:ye("roleName"),deviceScreenResolution:ye("screenResolution"),deviceType:ye("type"),deviceMachineName:ye("machineName"),deviceVMName:ye("vmName"),deviceBrowser:ye("browser"),deviceBrowserVersion:ye("browserVersion"),locationIp:In("ip"),locationCountry:In("country"),locationProvince:In("province"),locationCity:In("city"),operationId:mr("id"),operationName:mr("name"),operationParentId:mr("parentId"),operationRootId:mr("rootId"),operationSyntheticSource:mr("syntheticSource"),operationCorrelationVector:mr("correlationVector"),sessionId:Hi("id"),sessionIsFirst:Hi("isFirst"),sessionIsNew:Hi("isNew"),userAccountAcquisitionDate:Dt("accountAcquisitionDate"),userAccountId:Dt("accountId"),userAgent:Dt("userAgent"),userId:Dt("id"),userStoreRegion:Dt("storeRegion"),userAuthUserId:Dt("authUserId"),userAnonymousUserAcquisitionDate:Dt("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Dt("authUserAcquisitionDate"),cloudName:Kt("name"),cloudRole:Kt("role"),cloudRoleVer:Kt("roleVer"),cloudRoleInstance:Kt("roleInstance"),cloudEnvironment:Kt("environment"),cloudLocation:Kt("location"),cloudDeploymentUnit:Kt("deploymentUnit"),internalNodeName:Lr("nodeName"),internalSdkVersion:Lr("sdkVersion"),internalAgentVersion:Lr("agentVersion"),internalSnippet:Lr("snippet"),internalSdkSrc:Lr("sdkSrc")}));var $e=function(){function e(){}return e.create=function(t,r,n,i,a,s){if(n=te(i,n)||fe,S(t)||S(r)||S(n))throw Error("Input doesn't contain all required fields");var c={name:n,time:Ne(new Date),iKey:"",ext:s||{},tags:[],data:{},baseType:r,baseData:t};return S(a)||$(a,function(o,u){c.data[o]=u}),c},e}();var be={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Q=new gr;var At="AppInsightsPropertiesPlugin",Ur="AppInsightsChannelPlugin",ji="ApplicationInsightsAnalytics";var go=function(){function e(t,r,n,i){K(e,this,function(a){var s=null,c=[],o=!1,u;n&&(u=n.logger);function f(){n&&k(n.getTransmissionControls(),function(m){k(m,function(C){return C.flush(!0)})})}function l(m){c.push(m),s||(s=setInterval(function(){var C=c.slice(0),T=!1;c=[],k(C,function(P){P()?T=!0:c.push(P)}),c.length===0&&(clearInterval(s),s=null),T&&f()},100))}a.trackPageView=function(m,C){var T=m.name;if(S(T)||typeof T!="string"){var P=Ie();T=m.name=P&&P.title||""}var p=m.uri;if(S(p)||typeof p!="string"){var v=_e();p=m.uri=v&&v.href||""}if(!i.isPerformanceTimingSupported()){t.sendPageViewInternal(m,C),f(),u.throwInternal(y.WARNING,h.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var x=!1,E,M=i.getPerformanceTiming().navigationStart;M>0&&(E=xe(M,+new Date),i.shouldCollectDuration(E)||(E=void 0));var N;!S(C)&&!S(C.duration)&&(N=C.duration),(r||!isNaN(N))&&(isNaN(N)&&(C||(C={}),C.duration=E),t.sendPageViewInternal(m,C),f(),x=!0);var J=6e4;C||(C={}),l(function(){var pe=!1;try{if(i.isPerformanceTimingDataReady()){pe=!0;var W={name:T,uri:p};i.populatePageViewPerformanceEvent(W),!W.isValid&&!x?(C.duration=E,t.sendPageViewInternal(m,C)):(x||(C.duration=W.durationMs,t.sendPageViewInternal(m,C)),o||(t.sendPageViewPerformanceInternal(W,C),o=!0))}else M>0&&xe(M,+new Date)>J&&(pe=!0,x||(C.duration=J,t.sendPageViewInternal(m,C)))}catch(se){u.throwInternal(y.CRITICAL,h.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+G(se),{exception:_(se)})}return pe})}})}return e}();var vo=function(){function e(t,r){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=r,this._logger=t}return e.prototype.trackPreviousPageVisit=function(t,r){try{var n=this.restartPageVisitTimer(t,r);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+_(i))}},e.prototype.restartPageVisitTimer=function(t,r){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(t,r),n}catch(i){return this._logger.warnToConsole("Call to restart failed: "+_(i)),null}},e.prototype.startPageVisitTimer=function(t,r){try{if(Gt()){cr(this._logger,this.prevPageVisitDataKeyName)!=null&&Pe("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new pc(t,r),i=he().stringify(n);ur(this._logger,this.prevPageVisitDataKeyName,i)}}catch(a){this._logger.warnToConsole("Call to start failed: "+_(a))}},e.prototype.stopPageVisitTimer=function(){try{if(Gt()){var t=ve(),r=cr(this._logger,this.prevPageVisitDataKeyName);if(r&&nt()){var n=he().parse(r);return n.pageVisitTime=t-n.pageVisitStartTime,Ai(this._logger,this.prevPageVisitDataKeyName),n}else return null}return null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+_(i)),null}},e}();var pc=function(){function e(t,r){this.pageVisitStartTime=ve(),this.pageName=t,this.pageUrl=r}return e}();var ho=function(){function e(t){this.MAX_DURATION_ALLOWED=36e5,t&&(this._logger=t.logger)}return e.prototype.populatePageViewPerformanceEvent=function(t){t.isValid=!1;var r=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),i=0,a=0,s=0,c=0,o=0;(r||n)&&(r?(i=r.duration,a=r.startTime===0?r.connectEnd:xe(r.startTime,r.connectEnd),s=xe(r.requestStart,r.responseStart),c=xe(r.responseStart,r.responseEnd),o=xe(r.responseEnd,r.loadEventEnd)):(i=xe(n.navigationStart,n.loadEventEnd),a=xe(n.navigationStart,n.connectEnd),s=xe(n.requestStart,n.responseStart),c=xe(n.responseStart,n.responseEnd),o=xe(n.responseEnd,n.loadEventEnd)),i===0?this._logger.throwInternal(y.WARNING,h.ErrorPVCalc,"error calculating page view performance.",{total:i,network:a,request:s,response:c,dom:o}):this.shouldCollectDuration(i,a,s,c,o)?i<Math.floor(a)+Math.floor(s)+Math.floor(c)+Math.floor(o)?this._logger.throwInternal(y.WARNING,h.ClientPerformanceMathError,"client performance math error.",{total:i,network:a,request:s,response:c,dom:o}):(t.durationMs=i,t.perfTotal=t.duration=He(i),t.networkConnect=He(a),t.sentRequest=He(s),t.receivedResponse=He(c),t.domProcessing=He(o),t.isValid=!0):this._logger.throwInternal(y.WARNING,h.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:a,request:s,response:c,dom:o}))},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Oe().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Oe().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var t=Oe();return t&&t.getEntriesByType&&t.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var t=Oe();return t&&t.timing},e.prototype.isPerformanceTimingDataReady=function(){var t=Oe(),r=t?t.timing:0;return r&&r.domainLookupStart>0&&r.navigationStart>0&&r.responseStart>0&&r.requestStart>0&&r.loadEventEnd>0&&r.responseEnd>0&&r.connectEnd>0&&r.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=Ee()||{},i=["googlebot","adsbot-google","apis-google","mediapartners-google"],a=n.userAgent,s=!1;if(a)for(var c=0;c<i.length;c++)s=s||a.toLowerCase().indexOf(i[c])!==-1;if(s)return!1;for(var c=0;c<t.length;c++)if(t[c]<0||t[c]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}();var xo="duration",zi="event";function _r(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Bi=function(e){O(t,e);function t(){var r=e.call(this)||this;r.identifier=ji,r.priority=180,r.autoRoutePVDelay=500;var n,i,a,s=0,c,o;return K(t,r,function(u,f){var l=_e(!0);c=l&&l.href||"",u.getCookieMgr=function(){return Ht(u.core)},u.processTelemetry=function(p,v){ft(u.core,function(){return u.identifier+":processTelemetry"},function(){var x=!1,E=u._telemetryInitializers.length;v=u._getTelCtx(v);for(var M=0;M<E;++M){var N=u._telemetryInitializers[M];if(N)try{if(N.apply(null,[p])===!1){x=!0;break}}catch(J){v.diagLog().throwInternal(y.CRITICAL,h.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+G(J),{exception:_(J)},!0)}}x||u.processNext(p,v)},function(){return{item:p}},!p.sync)},u.trackEvent=function(p,v){try{var x=$e.create(p,je.dataType,je.envelopeType,u.diagLog(),v);u.core.track(x)}catch(E){u.diagLog().throwInternal(y.WARNING,h.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+G(E),{exception:_(E)})}},u.startTrackEvent=function(p){try{n.start(p)}catch(v){u.diagLog().throwInternal(y.CRITICAL,h.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+G(v),{exception:_(v)})}},u.stopTrackEvent=function(p,v,x){try{n.stop(p,void 0,v)}catch(E){u.diagLog().throwInternal(y.CRITICAL,h.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+G(E),{exception:_(E)})}},u.trackTrace=function(p,v){try{var x=$e.create(p,ot.dataType,ot.envelopeType,u.diagLog(),v);u.core.track(x)}catch(E){u.diagLog().throwInternal(y.WARNING,h.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+G(E),{exception:_(E)})}},u.trackMetric=function(p,v){try{var x=$e.create(p,ze.dataType,ze.envelopeType,u.diagLog(),v);u.core.track(x)}catch(E){u.diagLog().throwInternal(y.CRITICAL,h.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+G(E),{exception:_(E)})}},u.trackPageView=function(p,v){try{var x=p||{};u._pageViewManager.trackPageView(x,ct({},x.properties,x.measurements,v)),u.config.autoTrackPageVisitTime&&u._pageVisitTimeManager.trackPreviousPageVisit(x.name,x.uri)}catch(E){u.diagLog().throwInternal(y.CRITICAL,h.TrackPVFailed,"trackPageView failed, page view will not be collected: "+G(E),{exception:_(E)})}},u.sendPageViewInternal=function(p,v,x){var E=Ie();E&&(p.refUri=p.refUri===void 0?E.referrer:p.refUri);var M=$e.create(p,ke.dataType,ke.envelopeType,u.diagLog(),v,x);u.core.track(M),s=0},u.sendPageViewPerformanceInternal=function(p,v,x){var E=$e.create(p,st.dataType,st.envelopeType,u.diagLog(),v,x);u.core.track(E)},u.trackPageViewPerformance=function(p,v){try{u._pageViewPerformanceManager.populatePageViewPerformanceEvent(p),u.sendPageViewPerformanceInternal(p,v)}catch(x){u.diagLog().throwInternal(y.CRITICAL,h.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+G(x),{exception:_(x)})}},u.startTrackPage=function(p){try{if(typeof p!="string"){var v=Ie();p=v&&v.title||""}i.start(p)}catch(x){u.diagLog().throwInternal(y.CRITICAL,h.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+G(x),{exception:_(x)})}},u.stopTrackPage=function(p,v,x,E){try{if(typeof p!="string"){var M=Ie();p=M&&M.title||""}if(typeof v!="string"){var N=_e();v=N&&N.href||""}i.stop(p,v,x,E),u.config.autoTrackPageVisitTime&&u._pageVisitTimeManager.trackPreviousPageVisit(p,v)}catch(J){u.diagLog().throwInternal(y.CRITICAL,h.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+G(J),{exception:_(J)})}},u.sendExceptionInternal=function(p,v,x){var E=p.exception||p.error||new Error(fe),M=new we(u.diagLog(),E,p.properties||v,p.measurements,p.severityLevel,p.id).toInterface(),N=$e.create(M,we.dataType,we.envelopeType,u.diagLog(),v,x);u.core.track(N)},u.trackException=function(p,v){try{u.sendExceptionInternal(p,v)}catch(x){u.diagLog().throwInternal(y.CRITICAL,h.TrackExceptionFailed,"trackException failed, exception will not be collected: "+G(x),{exception:_(x)})}},u._onerror=function(p){var v=p&&p.error,x=p&&p.evt;try{if(!x){var E=ut();E&&(x=E[zi])}var M=p&&p.url||(Ie()||{}).URL,N=p.errorSrc||"window.onerror@"+M+":"+(p.lineNumber||0)+":"+(p.columnNumber||0),J={errorSrc:N,url:M,lineNumber:p.lineNumber||0,columnNumber:p.columnNumber||0,message:p.message};Ii(p.message,p.url,p.lineNumber,p.columnNumber,p.error)?P(we.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",M,p.lineNumber||0,p.columnNumber||0,v,x,null,N),J):(p.errorSrc||(p.errorSrc=N),u.trackException({exception:p,severityLevel:dr.Error},J))}catch(W){var pe=v?v.name+", "+v.message:"null";u.diagLog().throwInternal(y.CRITICAL,h.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+G(W),{exception:_(W),errorString:pe})}},u.addTelemetryInitializer=function(p){u._telemetryInitializers.push(p)},u.initialize=function(p,v,x,E){if(!u.isInitialized()){if(S(v))throw Error("Error initializing");f.initialize(p,v,x,E),u.setInitialized(!1);var M=u._getTelCtx(),N=u.identifier;u.config=M.getExtCfg(N);var J=t.getDefaultConfig(p);J!==void 0&&$(J,function(b,H){u.config[b]=M.getConfig(N,b,H),u.config[b]===void 0&&(u.config[b]=H)}),u.config.isStorageUseDisabled&&wi();var pe={instrumentationKey:function(){return p.instrumentationKey},accountId:function(){return u.config.accountId||p.accountId},sessionRenewalMs:function(){return u.config.sessionRenewalMs||p.sessionRenewalMs},sessionExpirationMs:function(){return u.config.sessionExpirationMs||p.sessionExpirationMs},sampleRate:function(){return u.config.samplingPercentage||p.samplingPercentage},sdkExtension:function(){return u.config.sdkExtension||p.sdkExtension},isBrowserLinkTrackingEnabled:function(){return u.config.isBrowserLinkTrackingEnabled||p.isBrowserLinkTrackingEnabled},appId:function(){return u.config.appId||p.appId}};u._pageViewPerformanceManager=new ho(u.core),u._pageViewManager=new go(r,u.config.overridePageViewDuration,u.core,u._pageViewPerformanceManager),u._pageVisitTimeManager=new vo(u.diagLog(),function(b,H,L){return m(b,H,L)}),u._telemetryInitializers=u._telemetryInitializers||[],C(pe),n=new yo(u.diagLog(),"trackEvent"),n.action=function(b,H,L,V){V||(V={}),V[xo]=L.toString(),u.trackEvent({name:b,properties:V})},i=new yo(u.diagLog(),"trackPageView"),i.action=function(b,H,L,V,X){S(V)&&(V={}),V[xo]=L.toString();var ee={name:b,uri:H,properties:V,measurements:X};u.sendPageViewInternal(ee,V)};var W=ut(),se=Yn(),Se=_e(!0),Ze=r;if(u.config.disableExceptionTracking===!1&&!u.config.autoExceptionInstrumented&&W){var Ge="onerror",Qe=W[Ge];W.onerror=function(b,H,L,V,X){var ee=W[zi],St=Qe&&Qe(b,H,L,V,X);return St!==!0&&Ze._onerror(we.CreateAutoException(b,H,L,V,X,ee)),St},u.config.autoExceptionInstrumented=!0}if(u.config.disableExceptionTracking===!1&&u.config.enableUnhandledPromiseRejectionTracking===!0&&!u.config.autoUnhandledPromiseInstrumented&&W){var d="onunhandledrejection",I=W[d];W[d]=function(b){var H=W[zi],L=I&&I.call(W,b);return L!==!0&&Ze._onerror(we.CreateAutoException(b.reason.toString(),Se?Se.href:"",0,0,b,H)),L},u.config.autoUnhandledPromiseInstrumented=!0}if(u.config.enableAutoRouteTracking===!0&&se&&j(se.pushState)&&j(se.replaceState)&&W&&typeof Event!="undefined"){var D=r;k(x,function(b){b.identifier===At&&(a=b)}),se.pushState=function(b){return function(){var L=b.apply(this,arguments);return _r(W,Bt(D.config.namePrefix+"pushState")),_r(W,Bt(D.config.namePrefix+"locationchange")),L}}(se.pushState),se.replaceState=function(b){return function(){var L=b.apply(this,arguments);return _r(W,Bt(D.config.namePrefix+"replaceState")),_r(W,Bt(D.config.namePrefix+"locationchange")),L}}(se.replaceState),W.addEventListener&&(W.addEventListener(D.config.namePrefix+"popstate",function(){_r(W,Bt(D.config.namePrefix+"locationchange"))}),W.addEventListener(D.config.namePrefix+"locationchange",function(){if(a&&a.context&&a.context.telemetryTrace){a.context.telemetryTrace.traceID=Ue();var b="_unknown_";Se&&Se.pathname&&(b=Se.pathname+(Se.hash||"")),a.context.telemetryTrace.name=b}o&&(c=o),o=Se&&Se.href||"",setTimeout(function(H){D.trackPageView({refUri:H,properties:{duration:0}})}.bind(r,c),D.autoRoutePVDelay)}))}u.setInitialized(!0)}};function m(p,v,x){var E={PageName:p,PageUrl:v};u.trackMetric({name:"PageVisitTime",average:x,max:x,min:x,sampleCount:1},E)}function C(p){if(!p.isBrowserLinkTrackingEnabled()){var v=["/browserLinkSignalR/","/__browserLink/"],x=function(E){if(E.baseType===Be.dataType){var M=E.baseData;if(M){for(var N=0;N<v.length;N++)if(M.target&&M.target.indexOf(v[N])>=0)return!1}}return!0};T(x)}}function T(p){u._telemetryInitializers.push(p)}function P(p,v){var x=$e.create(p,we.dataType,we.envelopeType,u.diagLog(),v);u.core.track(x)}}),r}return t.getDefaultConfig=function(r){return r||(r={}),r.sessionRenewalMs=30*60*1e3,r.sessionExpirationMs=24*60*60*1e3,r.disableExceptionTracking=Je(r.disableExceptionTracking),r.autoTrackPageVisitTime=Je(r.autoTrackPageVisitTime),r.overridePageViewDuration=Je(r.overridePageViewDuration),r.enableUnhandledPromiseRejectionTracking=Je(r.enableUnhandledPromiseRejectionTracking),(isNaN(r.samplingPercentage)||r.samplingPercentage<=0||r.samplingPercentage>=100)&&(r.samplingPercentage=100),r.isStorageUseDisabled=Je(r.isStorageUseDisabled),r.isBrowserLinkTrackingEnabled=Je(r.isBrowserLinkTrackingEnabled),r.enableAutoRouteTracking=Je(r.enableAutoRouteTracking),r.namePrefix=r.namePrefix||"",r.enableDebug=Je(r.enableDebug),r.disableFlushOnBeforeUnload=Je(r.disableFlushOnBeforeUnload),r.disableFlushOnUnload=Je(r.disableFlushOnUnload,r.disableFlushOnBeforeUnload),r},t.Version="2.6.4",t}(it);var yo=function(){function e(t,r){var n=this,i={};n.start=function(a){typeof i[a]!="undefined"&&t.throwInternal(y.WARNING,h.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:a,key:a},!0),i[a]=+new Date},n.stop=function(a,s,c,o){var u=i[a];if(isNaN(u))t.throwInternal(y.WARNING,h.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:a,key:a},!0);else{var f=+new Date,l=xe(u,f);n.action(a,s,l,c,o)}delete i[a],i[a]=void 0}}return e}();var So=function(){function e(t){var r=[];K(e,this,function(n){n.enqueue=function(i){r.push(i)},n.count=function(){return r.length},n.clear=function(){r.length=0},n.getItems=function(){return r.slice(0)},n.batchPayloads=function(i){if(i&&i.length>0){var a=t.emitLineDelimitedJson()?i.join(`
`):"["+i.join(",")+"]";return a}return null},n.markAsSent=function(i){n.clear()},n.clearSent=function(i){}})}return e}();var Co=function(){function e(t,r){var n=!1,i;K(e,this,function(a){var s=u(e.BUFFER_KEY),c=u(e.SENT_BUFFER_KEY);i=s.concat(c),i.length>e.MAX_BUFFER_SIZE&&(i.length=e.MAX_BUFFER_SIZE),f(e.SENT_BUFFER_KEY,[]),f(e.BUFFER_KEY,i),a.enqueue=function(l){if(i.length>=e.MAX_BUFFER_SIZE){n||(t.throwInternal(y.WARNING,h.SessionStorageBufferFull,"Maximum buffer size reached: "+i.length,!0),n=!0);return}i.push(l),f(e.BUFFER_KEY,i)},a.count=function(){return i.length},a.clear=function(){i=[],f(e.BUFFER_KEY,[]),f(e.SENT_BUFFER_KEY,[]),n=!1},a.getItems=function(){return i.slice(0)},a.batchPayloads=function(l){if(l&&l.length>0){var m=r.emitLineDelimitedJson()?l.join(`
`):"["+l.join(",")+"]";return m}return null},a.markAsSent=function(l){i=o(l,i),f(e.BUFFER_KEY,i);var m=u(e.SENT_BUFFER_KEY);m instanceof Array&&l instanceof Array&&(m=m.concat(l),m.length>e.MAX_BUFFER_SIZE&&(t.throwInternal(y.CRITICAL,h.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+m.length,!0),m.length=e.MAX_BUFFER_SIZE),f(e.SENT_BUFFER_KEY,m))},a.clearSent=function(l){var m=u(e.SENT_BUFFER_KEY);m=o(l,m),f(e.SENT_BUFFER_KEY,m)};function o(l,m){var C=[];return k(m,function(T){!j(T)&&Lt(l,T)===-1&&C.push(T)}),C}function u(l){var m=l;try{m=r.namePrefix&&r.namePrefix()?r.namePrefix()+"_"+m:m;var C=cr(t,m);if(C){var T=he().parse(C);if(U(T)&&(T=he().parse(T)),T&&Ae(T))return T}}catch(P){t.throwInternal(y.CRITICAL,h.FailedToRestoreStorageBuffer," storage key: "+m+", "+G(P),{exception:_(P)})}return[]}function f(l,m){var C=l;try{C=r.namePrefix&&r.namePrefix()?r.namePrefix()+"_"+C:C;var T=JSON.stringify(m);ur(t,C,T)}catch(P){ur(t,C,JSON.stringify([])),t.throwInternal(y.WARNING,h.FailedToSetStorageBuffer," storage key: "+C+", "+G(P)+". Buffer cleared",{exception:_(P)})}}})}return e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}();var Vi="baseType",re="baseData",Te="properties",Io="true";function le(e,t,r){return q(e,t,r,tr)}var ie=function(){function e(){}return e.extractPropsAndMeasurements=function(t,r,n){S(t)||$(t,function(i,a){er(a)?n[i]=a:U(a)?r[i]=a:nt()&&(r[i]=he().stringify(a))})},e.createEnvelope=function(t,r,n,i){var a=new xn(t,i,r);le(a,"sampleRate",n[or]),(n[re]||{}).startTime&&(a.time=Ne(n[re].startTime)),a.iKey=n.iKey;var s=n.iKey.replace(/-/g,"");return a.name=a.name.replace("{0}",s),e.extractPartAExtensions(n,a),n.tags=n.tags||[],rn(a)},e.extractPartAExtensions=function(t,r){var n=r.tags=r.tags||{},i=t.ext=t.ext||{},a=t.tags=t.tags||[],s=i.user;s&&(le(n,Q.userAuthUserId,s.authId),le(n,Q.userId,s.id||s.localId));var c=i.app;c&&le(n,Q.sessionId,c.sesId);var o=i.device;o&&(le(n,Q.deviceId,o.id||o.localId),le(n,Q.deviceType,o.deviceClass),le(n,Q.deviceIp,o.ip),le(n,Q.deviceModel,o.model),le(n,Q.deviceType,o.deviceType));var u=t.ext.web;if(u){le(n,Q.deviceLanguage,u.browserLang),le(n,Q.deviceBrowserVersion,u.browserVer),le(n,Q.deviceBrowser,u.browser);var f=r.data=r.data||{},l=f[re]=f[re]||{},m=l[Te]=l[Te]||{};le(m,"domain",u.domain),le(m,"isManual",u.isManual?Io:null),le(m,"screenRes",u.screenRes),le(m,"userConsent",u.userConsent?Io:null)}var C=i.os;C&&le(n,Q.deviceOS,C.name);var T=i.trace;T&&(le(n,Q.operationParentId,T.parentID),le(n,Q.operationName,T.name),le(n,Q.operationId,T.traceID));for(var P={},p=a.length-1;p>=0;p--){var v=a[p];$(v,function(E,M){P[E]=M}),a.splice(p,1)}$(a,function(E,M){P[E]=M});var x=ct({},n,P);x[Q.internalSdkVersion]||(x[Q.internalSdkVersion]="javascript:"+e.Version),r.tags=rn(x)},e.prototype.Init=function(t,r){this._logger=t,S(r[re])&&this._logger.throwInternal(y.CRITICAL,h.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},e.Version="2.6.4",e}();var To=function(e){O(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(r,n){e.prototype.Init.call(this,r,n);var i=n[re].measurements||{},a=n[re][Te]||{};ie.extractPropsAndMeasurements(n.data,a,i);var s=n[re];if(S(s))return r.warnToConsole("Invalid input for dependency data"),null;var c=s[Te]&&s[Te][Nr]?s[Te][Nr]:"GET",o=new Be(r,s.id,s.target,s.name,s.duration,s.success,s.responseCode,c,s.type,s.correlationContext,a,i),u=new lt(Be.dataType,o);return ie.createEnvelope(r,Be.envelopeType,n,u)},t.DependencyEnvelopeCreator=new t,t}(ie);var qi=function(e){O(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(r,n){e.prototype.Init.call(this,r,n);var i={},a={};n[Vi]!==je.dataType&&(i.baseTypeSource=n[Vi]),n[Vi]===je.dataType?(i=n[re][Te]||{},a=n[re].measurements||{}):n[re]&&ie.extractPropsAndMeasurements(n[re],i,a),ie.extractPropsAndMeasurements(n.data,i,a);var s=n[re].name,c=new je(r,s,i,a),o=new lt(je.dataType,c);return ie.createEnvelope(r,je.envelopeType,n,o)},t.EventEnvelopeCreator=new t,t}(ie);var Eo=function(e){O(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(r,n){e.prototype.Init.call(this,r,n);var i=n[re].measurements||{},a=n[re][Te]||{};ie.extractPropsAndMeasurements(n.data,a,i);var s=n[re],c=we.CreateFromInterface(r,s,a,i),o=new lt(we.dataType,c);return ie.createEnvelope(r,we.envelopeType,n,o)},t.ExceptionEnvelopeCreator=new t,t}(ie);var wo=function(e){O(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(r,n){e.prototype.Init.call(this,r,n);var i=n[re],a=i[Te]||{},s=i.measurements||{};ie.extractPropsAndMeasurements(n.data,a,s);var c=new ze(r,i.name,i.average,i.sampleCount,i.min,i.max,a,s),o=new lt(ze.dataType,c);return ie.createEnvelope(r,ze.envelopeType,n,o)},t.MetricEnvelopeCreator=new t,t}(ie);var Po=function(e){O(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(r,n){e.prototype.Init.call(this,r,n);var i="duration",a,s=n[re];!S(s)&&!S(s[Te])&&!S(s[Te][i])?(a=s[Te][i],delete s[Te][i]):!S(n.data)&&!S(n.data[i])&&(a=n.data[i],delete n.data[i]);var c=n[re],o;((n.ext||{}).trace||{}).traceID&&(o=n.ext.trace.traceID);var u=c.id||o,f=c.name,l=c.uri,m=c[Te]||{},C=c.measurements||{};if(S(c.refUri)||(m.refUri=c.refUri),S(c.pageType)||(m.pageType=c.pageType),S(c.isLoggedIn)||(m.isLoggedIn=c.isLoggedIn.toString()),!S(c[Te])){var T=c[Te];$(T,function(v,x){m[v]=x})}ie.extractPropsAndMeasurements(n.data,m,C);var P=new ke(r,f,l,a,m,C,u),p=new lt(ke.dataType,P);return ie.createEnvelope(r,ke.envelopeType,n,p)},t.PageViewEnvelopeCreator=new t,t}(ie);var bo=function(e){O(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(r,n){e.prototype.Init.call(this,r,n);var i=n[re],a=i.name,s=i.uri||i.url,c=i[Te]||{},o=i.measurements||{};ie.extractPropsAndMeasurements(n.data,c,o);var u=new st(r,a,s,void 0,c,o,i),f=new lt(st.dataType,u);return ie.createEnvelope(r,st.envelopeType,n,f)},t.PageViewPerformanceEnvelopeCreator=new t,t}(ie);var Do=function(e){O(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(r,n){e.prototype.Init.call(this,r,n);var i=n[re].message,a=n[re].severityLevel,s=n[re][Te]||{},c=n[re].measurements||{};ie.extractPropsAndMeasurements(n.data,s,c);var o=new ot(r,i,a,s,c),u=new lt(ot.dataType,o);return ie.createEnvelope(r,ot.envelopeType,n,u)},t.TraceEnvelopeCreator=new t,t}(ie);var Ao=function(){function e(t){K(e,this,function(r){r.serialize=function(s){var c=n(s,"root");try{return he().stringify(c)}catch(o){t.throwInternal(y.CRITICAL,h.CannotSerializeObject,o&&j(o.toString)?o.toString():"Error serializing object",null,!0)}};function n(s,c){var o="__aiCircularRefCheck",u={};if(!s)return t.throwInternal(y.CRITICAL,h.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:c},!0),u;if(s[o])return t.throwInternal(y.WARNING,h.CircularReferenceDetected,"Circular reference detected while serializing object",{name:c},!0),u;if(!s.aiDataContract){if(c==="measurements")u=a(s,"number",c);else if(c==="properties")u=a(s,"string",c);else if(c==="tags")u=a(s,"string",c);else if(Ae(s))u=i(s,c);else{t.throwInternal(y.WARNING,h.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:c},!0);try{he().stringify(s),u=s}catch(f){t.throwInternal(y.CRITICAL,h.CannotSerializeObject,f&&j(f.toString)?f.toString():"Error serializing object",null,!0)}}return u}return s[o]=!0,$(s.aiDataContract,function(f,l){var m=j(l)?l()&1:l&1,C=j(l)?l()&4:l&4,T=l&2,P=s[f]!==void 0,p=rt(s[f])&&s[f]!==null;if(m&&!P&&!T)t.throwInternal(y.CRITICAL,h.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:f,name:c});else if(!C){var v=void 0;p?T?v=i(s[f],f):v=n(s[f],f):v=s[f],v!==void 0&&(u[f]=v)}}),delete s[o],u}function i(s,c){var o;if(s)if(!Ae(s))t.throwInternal(y.CRITICAL,h.ItemNotInArray,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:c},!0);else{o=[];for(var u=0;u<s.length;u++){var f=s[u],l=n(f,c+"["+u+"]");o.push(l)}}return o}function a(s,c,o){var u;return s&&(u={},$(s,function(f,l){if(c==="string")l===void 0?u[f]="undefined":l===null?u[f]="null":l.toString?u[f]=l.toString():u[f]="invalid field: toString() is not defined.";else if(c==="number")if(l===void 0)u[f]="undefined";else if(l===null)u[f]="null";else{var m=parseFloat(l);isNaN(m)?u[f]="NaN":u[f]=m}else u[f]="invalid field: "+o+" is of unknown type.",t.throwInternal(y.CRITICAL,u[f],null,!0)})),u}})}return e}();var dc=function(){function e(){var t=ut(),r=Ie(),n=!1,i=!0;K(e,this,function(a){try{if(t&&wt.Attach(t,"online",o)&&(wt.Attach(t,"offline",u),n=!0),r){var s=r.body||r;ce(s.ononline)||(s.ononline=o,s.onoffline=u,n=!0)}if(n){var c=Ee();c&&!S(c.onLine)&&(i=c.onLine)}}catch(f){n=!1}a.isListening=n,a.isOnline=function(){var f=!0,l=Ee();return n?f=i:l&&!S(l.onLine)&&(f=l.onLine),f},a.isOffline=function(){return!a.isOnline()};function o(){i=!0}function u(){i=!1}})}return e.Offline=new e,e}();var Gi=dc.Offline;var No=function(){function e(){}return e.prototype.getHashCodeScore=function(t){var r=this.getHashCode(t)/e.INT_MAX_VALUE;return r*100},e.prototype.getHashCode=function(t){if(t==="")return 0;for(;t.length<e.MIN_INPUT_LENGTH;)t=t.concat(t);for(var r=5381,n=0;n<t.length;++n)r=(r<<5)+r+t.charCodeAt(n),r=r&r;return Math.abs(r)},e.INT_MAX_VALUE=2147483647,e.MIN_INPUT_LENGTH=8,e}();var Fo=function(){function e(){this.hashCodeGeneragor=new No,this.keys=new gr}return e.prototype.getSamplingScore=function(t){var r=0;return t.tags&&t.tags[this.keys.userId]?r=this.hashCodeGeneragor.getHashCodeScore(t.tags[this.keys.userId]):t.ext&&t.ext.user&&t.ext.user.id?r=this.hashCodeGeneragor.getHashCodeScore(t.ext.user.id):t.tags&&t.tags[this.keys.operationId]?r=this.hashCodeGeneragor.getHashCodeScore(t.tags[this.keys.operationId]):t.ext&&t.ext.telemetryTrace&&t.ext.telemetryTrace.traceID?r=this.hashCodeGeneragor.getHashCodeScore(t.ext.telemetryTrace.traceID):r=Math.random()*100,r},e}();var Ro=function(){function e(t,r){this.INT_MAX_VALUE=2147483647,this._logger=r||gt(null),(t>100||t<0)&&(this._logger.throwInternal(y.WARNING,h.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:t},!0),t=100),this.sampleRate=t,this.samplingScoreGenerator=new Fo}return e.prototype.isSampledIn=function(t){var r=this.sampleRate,n=!1;return r==null||r>=100||t.baseType===ze.dataType?!0:(n=this.samplingScoreGenerator.getSamplingScore(t)<r,n)},e}();function Tn(e){try{return e.responseText}catch(t){}return null}var Ki=function(e){O(t,e);function t(){var r=e.call(this)||this;r.priority=1001,r.identifier=Ur,r._XMLHttpRequestSupported=!1;var n,i,a,s,c,o,u={};return K(t,r,function(f,l){function m(){Pe("Method not implemented.")}f.pause=m,f.resume=m,f.flush=function(){try{f.triggerSend(!0,null,1)}catch(d){f.diagLog().throwInternal(y.CRITICAL,h.FlushFailed,"flush failed, telemetry will not be collected: "+G(d),{exception:_(d)})}},f.onunloadFlush=function(){if((f._senderConfig.onunloadDisableBeacon()===!1||f._senderConfig.isBeaconApiDisabled()===!1)&&ln())try{f.triggerSend(!0,p,2)}catch(d){f.diagLog().throwInternal(y.CRITICAL,h.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+G(d),{exception:_(d)})}else f.flush()},f.teardown=m,f.addHeader=function(d,I){u[d]=I},f.initialize=function(d,I,D,b){l.initialize(d,I,D,b);var H=f._getTelCtx(),L=f.identifier;c=new Ao(I.logger),n=0,i=null,a=0,f._sender=null,o=0;var V=t._getDefaultAppInsightsChannelConfig();if(f._senderConfig=t._getEmptyAppInsightsChannelConfig(),$(V,function(g,w){f._senderConfig[g]=function(){return H.getConfig(L,g,w())}}),f._buffer=f._senderConfig.enableSessionStorageBuffer()&&Gt()?new Co(f.diagLog(),f._senderConfig):new So(f._senderConfig),f._sample=new Ro(f._senderConfig.samplingPercentage(),f.diagLog()),Qe(d)||f.diagLog().throwInternal(y.CRITICAL,h.InvalidInstrumentationKey,"Invalid Instrumentation key "+d.instrumentationKey),!Rr(f._senderConfig.endpointUrl())&&f._senderConfig.customHeaders()&&f._senderConfig.customHeaders().length>0&&k(f._senderConfig.customHeaders(),function(g){r.addHeader(g.header,g.value)}),!f._senderConfig.isBeaconApiDisabled()&&ln())f._sender=p;else{var X=Ce("XMLHttpRequest");if(X){var ee=new X;"withCredentials"in ee?(f._sender=v,f._XMLHttpRequestSupported=!0):typeof XDomainRequest!==De&&(f._sender=se)}else{var St=Ce("fetch");St&&(f._sender=x)}}},f.processTelemetry=function(d,I){I=f._getTelCtx(I);try{if(f._senderConfig.disableTelemetry())return;if(!d){I.diagLog().throwInternal(y.CRITICAL,h.CannotSendEmptyTelemetry,"Cannot send empty telemetry");return}if(d.baseData&&!d.baseType){I.diagLog().throwInternal(y.CRITICAL,h.InvalidEvent,"Cannot send telemetry without baseData and baseType");return}if(d.baseType||(d.baseType="EventData"),!f._sender){I.diagLog().throwInternal(y.CRITICAL,h.SenderNotInitialized,"Sender was not initialized");return}if(C(d))d[or]=f._sample.sampleRate;else{I.diagLog().throwInternal(y.WARNING,h.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:f._sample.sampleRate});return}var D=t.constructEnvelope(d,f._senderConfig.instrumentationKey(),I.diagLog());if(!D){I.diagLog().throwInternal(y.CRITICAL,h.CreateEnvelopeError,"Unable to create an AppInsights envelope");return}var b=!1;if(d.tags&&d.tags[sr]&&(k(d.tags[sr],function(X){try{X&&X(D)===!1&&(b=!0,I.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(ee){I.diagLog().throwInternal(y.CRITICAL,h.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+G(ee),{exception:_(ee)},!0)}}),delete d.tags[sr]),b)return;var H=c.serialize(D),L=f._buffer.getItems(),V=f._buffer.batchPayloads(L);V&&V.length+H.length>f._senderConfig.maxBatchSizeInBytes()&&f.triggerSend(!0,null,10),f._buffer.enqueue(H),J()}catch(X){I.diagLog().throwInternal(y.WARNING,h.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+G(X),{exception:_(X)})}f.processNext(d,I)},f._xhrReadyStateChange=function(d,I,D){d.readyState===4&&T(d.status,I,d.responseURL,D,W(d),Tn(d)||d.response)},f.triggerSend=function(d,I,D){d===void 0&&(d=!0);try{if(f._senderConfig.disableTelemetry())f._buffer.clear();else{if(f._buffer.count()>0){var b=f._buffer.getItems();Ge(D||0,d),I?I.call(r,b,d):f._sender(b,d)}a=+new Date}clearTimeout(s),s=null,i=null}catch(L){var H=rr();(!H||H>9)&&f.diagLog().throwInternal(y.CRITICAL,h.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+G(L),{exception:_(L)})}},f._onError=function(d,I,D){f.diagLog().throwInternal(y.WARNING,h.OnError,"Failed to send telemetry.",{message:I}),f._buffer.clearSent(d)},f._onPartialSuccess=function(d,I){for(var D=[],b=[],H=I.errors.reverse(),L=0,V=H;L<V.length;L++){var X=V[L],ee=d.splice(X.index,1)[0];pe(X.statusCode)?b.push(ee):D.push(ee)}d.length>0&&f._onSuccess(d,I.itemsAccepted),D.length>0&&f._onError(D,W(null,["partial success",I.itemsAccepted,"of",I.itemsReceived].join(" "))),b.length>0&&(M(b),f.diagLog().throwInternal(y.WARNING,h.TransmissionFailed,"Partial success. Delivered: "+d.length+", Failed: "+D.length+". Will retry to send "+b.length+" our of "+I.itemsReceived+" items"))},f._onSuccess=function(d,I){f._buffer.clearSent(d)},f._xdrOnLoad=function(d,I){var D=Tn(d);if(d&&(D+""=="200"||D===""))n=0,f._onSuccess(I,0);else{var b=E(D);b&&b.itemsReceived&&b.itemsReceived>b.itemsAccepted&&!f._senderConfig.isRetryDisabled()?f._onPartialSuccess(I,b):f._onError(I,Se(d))}};function C(d){return f._sample.isSampledIn(d)}function T(d,I,D,b,H,L){var V=null;if(f._appId||(V=E(L),V&&V.appId&&(f._appId=V.appId)),(d<200||d>=300)&&d!==0){if((d===301||d===307||d===308)&&!P(D)){f._onError(I,H);return}!f._senderConfig.isRetryDisabled()&&pe(d)?(M(I),f.diagLog().throwInternal(y.WARNING,h.TransmissionFailed,". Response code "+d+". Will retry to send "+I.length+" items.")):f._onError(I,H)}else if(Gi.isOffline()){if(!f._senderConfig.isRetryDisabled()){var X=10;M(I,X),f.diagLog().throwInternal(y.WARNING,h.TransmissionFailed,". Offline - Response Code: "+d+". Offline status: "+Gi.isOffline()+". Will retry to send "+I.length+" items.")}}else P(D),d===206?(V||(V=E(L)),V&&!f._senderConfig.isRetryDisabled()?f._onPartialSuccess(I,V):f._onError(I,H)):(n=0,f._onSuccess(I,b))}function P(d){return o>=10?!1:!S(d)&&d!==""&&d!==f._senderConfig.endpointUrl()?(f._senderConfig.endpointUrl=function(){return d},++o,!0):!1}function p(d,I){var D=f._senderConfig.endpointUrl(),b=f._buffer.batchPayloads(d),H=new Blob([b],{type:"text/plain;charset=UTF-8"}),L=Ee().sendBeacon(D,H);L?(f._buffer.markAsSent(d),f._onSuccess(d,d.length)):(v(d,!0),f.diagLog().throwInternal(y.WARNING,h.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}function v(d,I){var D=new XMLHttpRequest,b=f._senderConfig.endpointUrl();try{D[xt]=!0}catch(L){}D.open("POST",b,I),D.setRequestHeader("Content-type","application/json"),Rr(b)&&D.setRequestHeader(Z.sdkContextHeader,Z.sdkContextHeaderAppIdRequest),k(We(u),function(L){D.setRequestHeader(L,u[L])}),D.onreadystatechange=function(){return f._xhrReadyStateChange(D,d,d.length)},D.onerror=function(L){return f._onError(d,W(D),L)};var H=f._buffer.batchPayloads(d);D.send(H),f._buffer.markAsSent(d)}function x(d,I){var D=f._senderConfig.endpointUrl(),b=f._buffer.batchPayloads(d),H=new Blob([b],{type:"text/plain;charset=UTF-8"}),L=new Headers;Rr(D)&&L.append(Z.sdkContextHeader,Z.sdkContextHeaderAppIdRequest),k(We(u),function(ee){L.append(ee,u[ee])});var V={method:"POST",headers:L,body:H},X=new Request(D,V);fetch(X).then(function(ee){if(ee.ok)ee.text().then(function(St){T(ee.status,d,ee.url,d.length,ee.statusText,St)}),f._buffer.markAsSent(d);else throw Error(ee.statusText)}).catch(function(ee){f._onError(d,ee.message)})}function E(d){try{if(d&&d!==""){var I=he().parse(d);if(I&&I.itemsReceived&&I.itemsReceived>=I.itemsAccepted&&I.itemsReceived-I.itemsAccepted===I.errors.length)return I}}catch(D){f.diagLog().throwInternal(y.CRITICAL,h.InvalidBackendResponse,"Cannot parse the response. "+G(D),{response:d})}return null}function M(d,I){if(I===void 0&&(I=1),!(!d||d.length===0)){f._buffer.clearSent(d),n++;for(var D=0,b=d;D<b.length;D++){var H=b[D];f._buffer.enqueue(H)}N(I),J()}}function N(d){var I=10,D;if(n<=1)D=I;else{var b=(Math.pow(2,n)-1)/2,H=Math.floor(Math.random()*b*I)+1;H=d*H,D=Math.max(Math.min(H,3600),I)}var L=ve()+D*1e3;i=L}function J(){if(!s){var d=i?Math.max(0,i-ve()):0,I=Math.max(f._senderConfig.maxBatchInterval(),d);s=setTimeout(function(){f.triggerSend(!0,null,1)},I)}}function pe(d){return d===408||d===429||d===500||d===503}function W(d,I){return d?"XMLHttpRequest,Status:"+d.status+",Response:"+Tn(d)||d.response||"":I}function se(d,I){var D=ut(),b=new XDomainRequest;b.onload=function(){return f._xdrOnLoad(b,d)},b.onerror=function(X){return f._onError(d,Se(b),X)};var H=D&&D.location&&D.location.protocol||"";if(f._senderConfig.endpointUrl().lastIndexOf(H,0)!==0){f.diagLog().throwInternal(y.WARNING,h.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),f._buffer.clear();return}var L=f._senderConfig.endpointUrl().replace(/^(https?:)/,"");b.open("POST",L);var V=f._buffer.batchPayloads(d);b.send(V),f._buffer.markAsSent(d)}function Se(d,I){return d?"XDomainRequest,Response:"+Tn(d)||"":I}function Ze(){var d="getNotifyMgr";return f.core[d]?f.core[d]():f.core._notificationManager}function Ge(d,I){var D=Ze();if(D&&D.eventsSendRequest)try{D.eventsSendRequest(d,I)}catch(b){f.diagLog().throwInternal(y.CRITICAL,h.NotificationException,"send request notification failed: "+G(b),{exception:_(b)})}}function Qe(d){var I=S(d.disableInstrumentationKeyValidation)?!1:d.disableInstrumentationKeyValidation;if(I)return!0;var D="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",b=new RegExp(D);return b.test(d.instrumentationKey)}}),r}return t.constructEnvelope=function(r,n,i){var a;switch(n!==r.iKey&&!S(n)?a=ct({},r,{iKey:n}):a=r,a.baseType){case je.dataType:return qi.EventEnvelopeCreator.Create(i,a);case ot.dataType:return Do.TraceEnvelopeCreator.Create(i,a);case ke.dataType:return Po.PageViewEnvelopeCreator.Create(i,a);case st.dataType:return bo.PageViewPerformanceEnvelopeCreator.Create(i,a);case we.dataType:return Eo.ExceptionEnvelopeCreator.Create(i,a);case ze.dataType:return wo.MetricEnvelopeCreator.Create(i,a);case Be.dataType:return To.DependencyEnvelopeCreator.Create(i,a);default:return qi.EventEnvelopeCreator.Create(i,a)}},t._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},t._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},t}(it);var mc="ai_session",Wi=function(){function e(){}return e}();var ko=function(){function e(t,r){var n=this,i,a,s=gt(r),c=Ht(r);K(e,n,function(o){t||(t={}),j(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),j(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),o.config=t;var u=o.config.sessionCookiePostfix&&o.config.sessionCookiePostfix()?o.config.sessionCookiePostfix():o.config.namePrefix&&o.config.namePrefix()?o.config.namePrefix():"";i=function(){return mc+u},o.automaticSession=new Wi,o.update=function(){var P=ve(),p=!1,v=o.automaticSession;v.id||(p=!f(v,P));var x=o.config.sessionExpirationMs();if(!p&&x>0){var E=o.config.sessionRenewalMs(),M=P-v.acquisitionDate,N=P-v.renewalDate;p=M<0||N<0,p=p||M>x,p=p||N>E}p?m(P):(!a||P-a>e.cookieUpdateInterval)&&C(v,P)},o.backup=function(){var P=o.automaticSession;T(P.id,P.acquisitionDate,P.renewalDate)};function f(P,p){var v=!1,x=c.get(i());if(x&&j(x.split))v=l(P,x);else{var E=Pi(s,i());E&&(v=l(P,E))}return v||!!P.id}function l(P,p){var v=!1,x=", session will be reset",E=p.split("|");if(E.length>=2)try{var M=+E[1]||0,N=+E[2]||0;isNaN(M)||M<=0?s.throwInternal(y.WARNING,h.SessionRenewalDateIsZero,"AI session acquisition date is 0"+x):isNaN(N)||N<=0?s.throwInternal(y.WARNING,h.SessionRenewalDateIsZero,"AI session renewal date is 0"+x):E[0]&&(P.id=E[0],P.acquisitionDate=M,P.renewalDate=N,v=!0)}catch(J){s.throwInternal(y.CRITICAL,h.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(p||"")+"]"+x+" - "+G(J),{exception:_(J)})}return v}function m(P){var p=o.config||{},v=(p.getNewId?p.getNewId():null)||ar;o.automaticSession.id=v(p.idLength?p.idLength():22),o.automaticSession.acquisitionDate=P,C(o.automaticSession,P),mn()||s.throwInternal(y.WARNING,h.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function C(P,p){var v=P.acquisitionDate;P.renewalDate=p;var x=o.config,E=x.sessionRenewalMs(),M=v+x.sessionExpirationMs()-p,N=[P.id,v,p],J=0;M<E?J=M/1e3:J=E/1e3;var pe=x.cookieDomain?x.cookieDomain():null;c.set(i(),N.join("|"),x.sessionExpirationMs()>0?J:null,pe),a=p}function T(P,p,v){bi(s,i(),[P,p,v].join("|"))}})}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}();var Mo=function(){function e(){}return e}();var Lo=function(){function e(){this.id="browser",this.deviceClass="Browser"}return e}();var gc="2.6.4",Uo=function(){function e(t){this.sdkVersion=(t.sdkExtension&&t.sdkExtension()?t.sdkExtension()+"_":"")+"javascript:"+gc}return e}();function _o(e){return!(typeof e!="string"||!e||e.match(/,|;|=| |\|/))}var Oo=function(){function e(t,r){this.isNewUser=!1;var n=gt(r),i=Ht(r),a;K(e,this,function(s){s.config=t;var c=s.config.userCookiePostfix&&s.config.userCookiePostfix()?s.config.userCookiePostfix():"";a=function(){return e.userCookieName+c};var o=i.get(a());if(o){s.isNewUser=!1;var u=o.split(e.cookieSeparator);u.length>0&&(s.id=u[0])}if(!s.id){var f=t||{},l=(f.getNewId?f.getNewId():null)||ar;s.id=l(f.idLength?t.idLength():22);var m=31536e3,C=Ne(new Date);s.accountAcquisitionDate=C,s.isNewUser=!0;var T=[s.id,C];i.set(a(),T.join(e.cookieSeparator),m);var P=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";Di(n,P)}s.accountId=t.accountId?t.accountId():void 0;var p=i.get(e.authUserCookieName);if(p){p=decodeURI(p);var v=p.split(e.cookieSeparator);v[0]&&(s.authenticatedId=v[0]),v.length>1&&v[1]&&(s.accountId=v[1])}s.setAuthenticatedUserContext=function(x,E,M){M===void 0&&(M=!1);var N=!_o(x)||E&&!_o(E);if(N){n.throwInternal(y.WARNING,h.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}s.authenticatedId=x;var J=s.authenticatedId;E&&(s.accountId=E,J=[s.authenticatedId,s.accountId].join(e.cookieSeparator)),M&&i.set(e.authUserCookieName,encodeURI(J))},s.clearAuthenticatedUserContext=function(){s.authenticatedId=null,s.accountId=null,i.del(e.authUserCookieName)}})}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}();var Ho=function(){function e(){}return e}();var jo=function(){function e(t,r,n,i){var a=this;a.traceID=t||Ue(),a.parentID=r,a.name=n;var s=_e();!n&&s&&s.pathname&&(a.name=s.pathname),a.name=te(i,a.name)}return e}();var En="ext",wn="tags";function vr(e,t){e&&e[t]&&We(e[t]).length===0&&delete e[t]}var zo=function(){function e(t,r){var n=this,i=t.logger;this.appId=function(){return null},K(e,this,function(a){a.application=new Mo,a.internal=new Uo(r),_t()&&(a.sessionManager=new ko(r,t),a.device=new Lo,a.location=new Ho,a.user=new Oo(r,t),a.telemetryTrace=new jo(void 0,void 0,void 0,i),a.session=new Wi),a.applySessionContext=function(s,c){var o=a.session,u=a.sessionManager;o&&U(o.id)?q(ue(s.ext,be.AppExt),"sesId",o.id):u&&u.automaticSession&&q(ue(s.ext,be.AppExt),"sesId",u.automaticSession.id,U)},a.applyOperatingSystemContxt=function(s,c){q(s.ext,be.OSExt,a.os)},a.applyApplicationContext=function(s,c){var o=a.application;if(o){var u=ue(s,wn);q(u,Q.applicationVersion,o.ver,U),q(u,Q.applicationBuild,o.build,U)}},a.applyDeviceContext=function(s,c){var o=a.device;if(o){var u=ue(ue(s,En),be.DeviceExt);q(u,"localId",o.id,U),q(u,"ip",o.ip,U),q(u,"model",o.model,U),q(u,"deviceClass",o.deviceClass,U)}},a.applyInternalContext=function(s,c){var o=a.internal;if(o){var u=ue(s,wn);q(u,Q.internalAgentVersion,o.agentVersion,U),q(u,Q.internalSdkVersion,o.sdkVersion,U),(s.baseType===mt.dataType||s.baseType===ke.dataType)&&(q(u,Q.internalSnippet,o.snippetVer,U),q(u,Q.internalSdkSrc,o.sdkSrc,U))}},a.applyLocationContext=function(s,c){var o=n.location;o&&q(ue(s,wn,[]),Q.locationIp,o.ip,U)},a.applyOperationContext=function(s,c){var o=a.telemetryTrace;if(o){var u=ue(ue(s,En),be.TraceExt,{traceID:void 0,parentID:void 0});q(u,"traceID",o.traceID,U),q(u,"name",o.name,U),q(u,"parentID",o.parentID,U)}},a.applyWebContext=function(s,c){var o=n.web;o&&q(ue(s,En),be.WebExt,o)},a.applyUserContext=function(s,c){var o=a.user;if(o){var u=ue(s,wn,[]);q(u,Q.userAccountId,o.accountId,U);var f=ue(ue(s,En),be.UserExt);q(f,"id",o.id,U),q(f,"authId",o.authenticatedId,U)}},a.cleanUp=function(s,c){var o=s.ext;o&&(vr(o,be.DeviceExt),vr(o,be.UserExt),vr(o,be.WebExt),vr(o,be.OSExt),vr(o,be.AppExt),vr(o,be.TraceExt))}})}return e}();var vc=function(e){O(t,e);function t(){var r=e.call(this)||this;r.priority=110,r.identifier=At;var n,i;return K(t,r,function(a,s){a.initialize=function(o,u,f,l){s.initialize(o,u,f,l);var m=a._getTelCtx(),C=a.identifier,T=t.getDefaultConfig();i=i||{},$(T,function(P,p){i[P]=function(){return m.getConfig(C,P,p())}}),a.context=new zo(u,i),n=Ci(f,Ur),a.context.appId=function(){return n?n._appId:null},a._extConfig=i},a.processTelemetry=function(o,u){if(!S(o)){u=a._getTelCtx(u),o.name===ke.envelopeType&&u.diagLog().resetInternalMessageCount();var f=a.context||{};if(f.session&&typeof a.context.session.id!="string"&&f.sessionManager&&f.sessionManager.update(),c(o,u),f.user&&f.user.isNewUser){f.user.isNewUser=!1;var l=new mt(h.SendBrowserInfoOnUserInit,(Ee()||{}).userAgent||"");u.diagLog().logInternalMessage(y.CRITICAL,l)}a.processNext(o,u)}};function c(o,u){ue(o,"tags",[]),ue(o,"ext",{});var f=a.context;f.applySessionContext(o,u),f.applyApplicationContext(o,u),f.applyDeviceContext(o,u),f.applyOperationContext(o,u),f.applyUserContext(o,u),f.applyOperatingSystemContxt(o,u),f.applyWebContext(o,u),f.applyLocationContext(o,u),f.applyInternalContext(o,u),f.cleanUp(o,u)}}),r}return t.getDefaultConfig=function(){var r={instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 30*60*1e3},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 24*60*60*1e3},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}};return r},t}(it),Ji=vc;var Ve="properties";function Bo(e,t,r){var n=0,i=e[t],a=e[r];return i&&a&&(n=xe(i,a)),n}function Wt(e,t,r,n,i){var a=0,s=Bo(r,n,i);return s&&(a=Nt(e,t,He(s))),a}function Nt(e,t,r){var n="ajaxPerf",i=0;if(e&&t&&r){var a=e[n]=e[n]||{};a[t]=r,i=1}return i}function hc(e,t){var r=e.perfTiming,n=t[Ve]||{},i=0,a="name",s="Start",c="End",o="domainLookup",u="connect",f="redirect",l="request",m="response",C="duration",T="startTime",P=o+s,p=o+c,v=u+s,x=u+c,E=l+s,M=l+c,N=m+s,J=m+c,pe=f+s,W=f=c,se="transferSize",Se="encodedBodySize",Ze="decodedBodySize",Ge="serverTiming";if(r){i|=Wt(n,f,r,pe,W),i|=Wt(n,o,r,P,p),i|=Wt(n,u,r,v,x),i|=Wt(n,l,r,E,M),i|=Wt(n,m,r,N,J),i|=Wt(n,"networkConnect",r,T,x),i|=Wt(n,"sentRequest",r,E,J);var Qe=r[C];Qe||(Qe=Bo(r,T,J)||0),i|=Nt(n,C,Qe),i|=Nt(n,"perfTotal",Qe);var d=r[Ge];if(d){var I={};k(d,function(D,b){var H=zn(D[a]||""+b),L=I[H]||{};$(D,function(V,X){(V!==a&&U(X)||er(X))&&(L[V]&&(X=L[V]+";"+X),(X||!U(X))&&(L[V]=X))}),I[H]=L}),i|=Nt(n,Ge,I)}i|=Nt(n,se,r[se]),i|=Nt(n,Se,r[Se]),i|=Nt(n,Ze,r[Ze])}else e.perfMark&&(i|=Nt(n,"missing",e.perfAttempts));i&&(t[Ve]=n)}var xc=function(){function e(){var t=this;t.openDone=!1,t.setRequestHeaderDone=!1,t.sendDone=!1,t.abortDone=!1,t.stateChangeAttached=!1}return e}();var Xi=function(){function e(t,r,n){var i=this,a=n,s="responseText";i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new xc,i.clientFailure=0,i.traceID=t,i.spanID=r,K(e,i,function(c){c.getAbsoluteUrl=function(){return c.requestUrl?gn(c.requestUrl):null},c.getPathName=function(){return c.requestUrl?ht(a,vn(c.method,c.requestUrl)):null},c.CreateTrackItem=function(o,u,f){if(c.ajaxTotalDuration=Math.round(xe(c.requestSentTime,c.responseFinishedTime)*1e3)/1e3,c.ajaxTotalDuration<0)return null;var l=(P={id:"|"+c.traceID+"."+c.spanID,target:c.getAbsoluteUrl(),name:c.getPathName(),type:o,startTime:null,duration:c.ajaxTotalDuration,success:+c.status>=200&&+c.status<400,responseCode:+c.status,method:c.method},P[Ve]={HttpMethod:c.method},P);if(c.requestSentTime&&(l.startTime=new Date,l.startTime.setTime(c.requestSentTime)),hc(c,l),u&&We(c.requestHeaders).length>0&&(l[Ve]=l[Ve]||{},l[Ve].requestHeaders=c.requestHeaders),f){var m=f();if(m){var C=m.correlationContext;if(C&&(l.correlationContext=C),m.headerMap&&We(m.headerMap).length>0&&(l[Ve]=l[Ve]||{},l[Ve].responseHeaders=m.headerMap),c.status>=400){var T=m.type;l[Ve]=l[Ve]||{},(T===""||T==="text")&&(l[Ve][s]=m[s]?m.statusText+" - "+m[s]:m.statusText),T==="json"&&(l[Ve][s]=m.response?m.statusText+" - "+JSON.stringify(m.response):m.statusText)}}}return l;var P}})}return e}();var tg=function(){function e(){}return e.GetLength=function(t){var r=0;if(!S(t)){var n="";try{n=t.toString()}catch(i){}r=n.length,r=isNaN(r)?0:r}return r},e}();var Yi=function(){function e(t,r){var n=this;n.traceFlag=e.DEFAULT_TRACE_FLAG,n.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?n.traceId=t:n.traceId=Ue(),r&&e.isValidSpanId(r)?n.spanId=r:n.spanId=Ue().substr(0,16)}return e.isValidTraceId=function(t){return t.match(/^[0-9a-f]{32}$/)&&t!=="00000000000000000000000000000000"},e.isValidSpanId=function(t){return t.match(/^[0-9a-f]{16}$/)&&t!=="0000000000000000"},e.prototype.toString=function(){var t=this;return t.version+"-"+t.traceId+"-"+t.spanId+"-"+t.traceFlag},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();var Vo="ai.ajxmn.",Or="diagLog",qe="ajaxData",qo="throwInternal",Hr="fetch",Go=0;function yc(){var e=Ke();return!e||S(e.Request)||S(e.Request[me])||S(e[Hr])?null:e[Hr]}function Sc(e){var t=!1;if(typeof XMLHttpRequest!==De&&!S(XMLHttpRequest)){var r=XMLHttpRequest[me];t=!S(r)&&!S(r.open)&&!S(r.send)&&!S(r.abort)}var n=rr();if(n&&n<9&&(t=!1),t)try{var i=new XMLHttpRequest;i[qe]={};var a=XMLHttpRequest[me].open;XMLHttpRequest[me].open=a}catch(s){t=!1,jr(e,h.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:_(s)})}return t}function Pn(e){var t="";try{!S(e)&&!S(e[qe])&&!S(e[qe].requestUrl)&&(t+="(url: '"+e[qe].requestUrl+"')")}catch(r){}return t}function jr(e,t,r,n,i){e[Or]()[qo](y.CRITICAL,t,r,n,i)}function bn(e,t,r,n,i){e[Or]()[qo](y.WARNING,t,r,n,i)}function zr(e,t,r){return function(n){jr(e,t,r,{ajaxDiagnosticsMessage:Pn(n.inst),exception:_(n.err)})}}function hr(e,t){return e&&t?e.indexOf(t):-1}var $i=function(e){O(t,e);function t(){var r=e.call(this)||this;r.identifier=t.identifier,r.priority=120;var n="trackDependencyDataInternal",i=_e(),a=!1,s=!1,c=i&&i.host&&i.host.toLowerCase(),o=t.getEmptyConfig(),u=!1,f=0,l,m,C,T,P=!1,p=0,v=!1,x=[],E={},M;return K(t,r,function(N,J){N.initialize=function(g,w,A,F){if(!N.isInitialized()){J.initialize(g,w,A,F);var R=N._getTelCtx(),B=t.getDefaultConfig();$(B,function(Me,Jt){o[Me]=R.getConfig(t.identifier,Me,Jt)});var z=o.distributedTracingMode;if(u=o.enableRequestHeaderTracking,P=o.enableAjaxPerfTracking,p=o.maxAjaxCallsPerView,v=o.enableResponseHeaderTracking,M=o.excludeRequestFromAutoTrackingPatterns,C=z===Xe.AI||z===Xe.AI_AND_W3C,m=z===Xe.AI_AND_W3C||z===Xe.W3C,P){var Y=g.instrumentationKey||"unkwn";Y.length>5?T=Vo+Y.substring(Y.length-5)+".":T=Vo+Y+"."}if(o.disableAjaxTracking===!1&&Se(),W(),A.length>0&&A){for(var ne=void 0,de=0;!ne&&de<A.length;)A[de]&&A[de].identifier===At&&(ne=A[de]),de++;ne&&(l=ne.context)}}},N.teardown=function(){k(x,function(g){g.rm()}),x=[],a=!1,s=!1,N.setInitialized(!1)},N.trackDependencyData=function(g,w){N[n](g,w)},N.includeCorrelationHeaders=function(g,w,A,F){var R=N._currentWindowHost||c;if(w){if(yt.canIncludeCorrelationHeader(o,g.getAbsoluteUrl(),R)){if(A||(A={}),A.headers=new Headers(A.headers||(w instanceof Request?w.headers||{}:{})),C){var B="|"+g.traceID+"."+g.spanID;A.headers.set(Z.requestIdHeader,B),u&&(g.requestHeaders[Z.requestIdHeader]=B)}var z=o.appId||l&&l.appId();if(z&&(A.headers.set(Z.requestContextHeader,Z.requestContextAppIdFormat+z),u&&(g.requestHeaders[Z.requestContextHeader]=Z.requestContextAppIdFormat+z)),m){var Y=new Yi(g.traceID,g.spanID);A.headers.set(Z.traceParentHeader,Y.toString()),u&&(g.requestHeaders[Z.traceParentHeader]=Y.toString())}}return A}else if(F){if(yt.canIncludeCorrelationHeader(o,g.getAbsoluteUrl(),R)){if(C){var B="|"+g.traceID+"."+g.spanID;F.setRequestHeader(Z.requestIdHeader,B),u&&(g.requestHeaders[Z.requestIdHeader]=B)}var z=o.appId||l&&l.appId();if(z&&(F.setRequestHeader(Z.requestContextHeader,Z.requestContextAppIdFormat+z),u&&(g.requestHeaders[Z.requestContextHeader]=Z.requestContextAppIdFormat+z)),m){var Y=new Yi(g.traceID,g.spanID);F.setRequestHeader(Z.traceParentHeader,Y.toString()),u&&(g.requestHeaders[Z.traceParentHeader]=Y.toString())}}return F}},N[n]=function(g,w,A){if(p===-1||f<p){(o.distributedTracingMode===Xe.W3C||o.distributedTracingMode===Xe.AI_AND_W3C)&&typeof g.id=="string"&&g.id[g.id.length-1]!=="."&&(g.id+="."),S(g.startTime)&&(g.startTime=new Date);var F=$e.create(g,Be.dataType,Be.envelopeType,N[Or](),w,A);N.core.track(F)}else f===p&&jr(N,h.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++f};function pe(g){var w=!0;return(g||o.ignoreHeaders)&&k(o.ignoreHeaders,function(A){if(A.toLowerCase()===g.toLowerCase())return w=!1,-1}),w}function W(){var g=yc();if(!!g){var w=Ke(),A=g.polyfill;o.disableFetchTracking===!1?(x.push(Dr(w,Hr,{req:function(F,R,B){var z;if(a&&!Ze(null,R,B)&&!(A&&s)){var Y=F.ctx();z=V(R,B);var ne=N.includeCorrelationHeaders(z,R,B);ne!==B&&F.set(1,ne),Y.data=z}},rsp:function(F,R){var B=F.ctx().data;B&&(F.rslt=F.rslt.then(function(z){return ee(F,(z||{}).status,z,B,function(){var Y={statusText:z.statusText,headerMap:null,correlationContext:St(z)};if(v){var ne={};z.headers.forEach(function(de,Me){pe(Me)&&(ne[Me]=de)}),Y.headerMap=ne}return Y}),z}).catch(function(z){throw ee(F,0,R,B,null,{error:z.message}),z}))},hkErr:zr(N,h.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),a=!0):A&&x.push(Dr(w,Hr,{req:function(F,R,B){Ze(null,R,B)}})),A&&(w[Hr].polyfill=A)}}function se(g,w,A){x.push(vi(g,w,A))}function Se(){Sc(N)&&!s&&(se(XMLHttpRequest,"open",{req:function(g,w,A,F){var R=g.inst,B=R[qe];!Ze(R,A)&&Ge(R,!0)&&(!B||!B.xhrMonitoringState.openDone)&&Qe(R,w,A,F)},hkErr:zr(N,h.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),se(XMLHttpRequest,"send",{req:function(g,w){var A=g.inst,F=A[qe];Ge(A)&&!F.xhrMonitoringState.sendDone&&(H("xhr",F),F.requestSentTime=fr(),N.includeCorrelationHeaders(F,void 0,void 0,A),F.xhrMonitoringState.sendDone=!0)},hkErr:zr(N,h.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),se(XMLHttpRequest,"abort",{req:function(g){var w=g.inst,A=w[qe];Ge(w)&&!A.xhrMonitoringState.abortDone&&(A.aborted=1,A.xhrMonitoringState.abortDone=!0)},hkErr:zr(N,h.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),u&&se(XMLHttpRequest,"setRequestHeader",{req:function(g,w,A){var F=g.inst;Ge(F)&&pe(w)&&(F[qe].requestHeaders[w]=A)},hkErr:zr(N,h.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),s=!0)}function Ze(g,w,A){var F=!1,R=((U(w)?w:(w||{}).url||"")||"").toLowerCase();if(k(M,function(Y){var ne=Y;U(Y)&&(ne=new RegExp(Y)),F||(F=ne.test(R))}),F)return F;var B=hr(R,"?"),z=hr(R,"#");return(B===-1||z!==-1&&z<B)&&(B=z),B!==-1&&(R=R.substring(0,B)),S(g)?S(w)||(F=(typeof w=="object"?w[xt]===!0:!1)||(A?A[xt]===!0:!1)):F=g[xt]===!0||R[xt]===!0,F?E[R]||(E[R]=1):E[R]&&(F=!0),F}function Ge(g,w){var A=!0,F=s;return S(g)||(A=w===!0||!S(g[qe])),F&&A}function Qe(g,w,A,F){var R=l&&l.telemetryTrace&&l.telemetryTrace.traceID||Ue(),B=Ue().substr(0,16),z=new Xi(R,B,N[Or]());z.method=w,z.requestUrl=A,z.xhrMonitoringState.openDone=!0,z.requestHeaders={},z.async=F,g[qe]=z,d(g)}function d(g){g[qe].xhrMonitoringState.stateChangeAttached=wt.Attach(g,"readystatechange",function(){try{g&&g.readyState===4&&Ge(g)&&D(g)}catch(A){var w=_(A);(!w||hr(w.toLowerCase(),"c00c023f")===-1)&&jr(N,h.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Pn(g),exception:w})}})}function I(g){try{var w=g.responseType;if(w===""||w==="text")return g.responseText}catch(A){}return null}function D(g){var w=g[qe];w.responseFinishedTime=fr(),w.status=g.status;function A(F,R){var B=R||{};B.ajaxDiagnosticsMessage=Pn(g),F&&(B.exception=_(F)),bn(N,h.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",B)}L("xmlhttprequest",w,function(){try{var F=w.CreateTrackItem("Ajax",u,function(){var R={statusText:g.statusText,headerMap:null,correlationContext:b(g),type:g.responseType,responseText:I(g),response:g.response};if(v){var B=g.getAllResponseHeaders();if(B){var z=oe(B).split(/[\r\n]+/),Y={};k(z,function(ne){var de=ne.split(": "),Me=de.shift(),Jt=de.join(": ");pe(Me)&&(Y[Me]=Jt)}),R.headerMap=Y}}return R});F?N[n](F):A(null,{requestSentTime:w.requestSentTime,responseFinishedTime:w.responseFinishedTime})}finally{try{g[qe]=null}catch(R){}}},function(F){A(F,null)})}function b(g){try{var w=g.getAllResponseHeaders();if(w!==null){var A=hr(w.toLowerCase(),Z.requestContextHeaderLowerCase);if(A!==-1){var F=g.getResponseHeader(Z.requestContextHeader);return yt.getCorrelationContext(F)}}}catch(R){bn(N,h.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:Pn(g),exception:_(R)})}}function H(g,w){if(w.requestUrl&&T&&P){var A=Oe();if(A&&j(A.mark)){Go++;var F=T+g+"#"+Go;A.mark(F);var R=A.getEntriesByName(F);R&&R.length===1&&(w.perfMark=R[0])}}}function L(g,w,A,F){var R=w.perfMark,B=Oe(),z=o.maxAjaxPerfLookupAttempts,Y=o.ajaxPerfLookupDelay,ne=w.requestUrl,de=0;(function Me(){try{if(B&&R){de++;for(var Jt=null,ea=B.getEntries(),An=ea.length-1;An>=0;An--){var pt=ea[An];if(pt){if(pt.entryType==="resource")pt.initiatorType===g&&(hr(pt.name,ne)!==-1||hr(ne,pt.name)!==-1)&&(Jt=pt);else if(pt.entryType==="mark"&&pt.name===R.name){w.perfTiming=Jt;break}if(pt.startTime<R.startTime-1e3)break}}}!R||w.perfTiming||de>=z||w.async===!1?(R&&j(B.clearMarks)&&B.clearMarks(R.name),w.perfAttempts=de,A()):setTimeout(Me,Y)}catch(Xo){F(Xo)}})()}function V(g,w){var A=l&&l.telemetryTrace&&l.telemetryTrace.traceID||Ue(),F=Ue().substr(0,16),R=new Xi(A,F,N[Or]());R.requestSentTime=fr(),g instanceof Request?R.requestUrl=g?g.url:"":R.requestUrl=g;var B="GET";w&&w.method?B=w.method:g&&g instanceof Request&&(B=g.method),R.method=B;var z={};if(u){var Y=new Headers((w?w.headers:0)||(g instanceof Request?g.headers||{}:{}));Y.forEach(function(ne,de){pe(de)&&(z[de]=ne)})}return R.requestHeaders=z,H("fetch",R),R}function X(g){var w="";try{S(g)||(typeof g=="string"?w+="(url: '"+g+"')":w+="(url: '"+g.url+"')")}catch(A){jr(N,h.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:_(A)})}return w}function ee(g,w,A,F,R,B){if(!F)return;function z(Y,ne,de){var Me=de||{};Me.fetchDiagnosticsMessage=X(A),ne&&(Me.exception=_(ne)),bn(N,Y,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",Me)}F.responseFinishedTime=fr(),F.status=w,L("fetch",F,function(){var Y=F.CreateTrackItem("Fetch",u,R);Y?N[n](Y):z(h.FailedMonitorAjaxDur,null,{requestSentTime:F.requestSentTime,responseFinishedTime:F.responseFinishedTime})},function(Y){z(h.FailedMonitorAjaxGetCorrelationHeader,Y,null)})}function St(g){if(g&&g.headers)try{var w=g.headers.get(Z.requestContextHeader);return yt.getCorrelationContext(w)}catch(A){bn(N,h.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:X(g),exception:_(A)})}}}),r}return t.getDefaultConfig=function(){var r={maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:Xe.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]};return r},t.getEmptyConfig=function(){var r=this.getDefaultConfig();return $(r,function(n){r[n]=void 0}),r},t.prototype.processTelemetry=function(r,n){this.processNext(r,n)},t.identifier="AjaxDependencyPlugin",t}(it);var Zi,Ko=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"];var Qi=function(){function e(t){var r=this;r._snippetVersion=""+(t.sv||t.version||""),t.queue=t.queue||[],t.version=t.version||2;var n=t.config||{};if(n.connectionString){var i=Fi(n.connectionString),a=i.ingestionendpoint;n.endpointUrl=a?a+"/v2/track":n.endpointUrl,n.instrumentationKey=i.instrumentationkey||n.instrumentationKey}r.appInsights=new Bi,r.properties=new Ji,r.dependencies=new $i,r.core=new di,r._sender=new Ki,r.snippet=t,r.config=n,r.getSKUDefaults()}return e.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},e.prototype.trackEvent=function(t,r){this.appInsights.trackEvent(t,r)},e.prototype.trackPageView=function(t){var r=t||{};this.appInsights.trackPageView(r)},e.prototype.trackPageViewPerformance=function(t){var r=t||{};this.appInsights.trackPageViewPerformance(r)},e.prototype.trackException=function(t){t&&!t.exception&&t.error&&(t.exception=t.error),this.appInsights.trackException(t)},e.prototype._onerror=function(t){this.appInsights._onerror(t)},e.prototype.trackTrace=function(t,r){this.appInsights.trackTrace(t,r)},e.prototype.trackMetric=function(t,r){this.appInsights.trackMetric(t,r)},e.prototype.startTrackPage=function(t){this.appInsights.startTrackPage(t)},e.prototype.stopTrackPage=function(t,r,n,i){this.appInsights.stopTrackPage(t,r,n,i)},e.prototype.startTrackEvent=function(t){this.appInsights.startTrackEvent(t)},e.prototype.stopTrackEvent=function(t,r,n){this.appInsights.stopTrackEvent(t,r,n)},e.prototype.addTelemetryInitializer=function(t){return this.appInsights.addTelemetryInitializer(t)},e.prototype.setAuthenticatedUserContext=function(t,r,n){n===void 0&&(n=!1),this.properties.context.user.setAuthenticatedUserContext(t,r,n)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(t){this.dependencies.trackDependencyData(t)},e.prototype.flush=function(t){var r=this;t===void 0&&(t=!0),ft(this.core,function(){return"AISKU.flush"},function(){k(r.core.getTransmissionControls(),function(n){k(n,function(i){i.flush(t)})})},null,t)},e.prototype.onunloadFlush=function(t){t===void 0&&(t=!0),k(this.core.getTransmissionControls(),function(r){k(r,function(n){n.onunloadFlush?n.onunloadFlush():n.flush(t)})})},e.prototype.loadAppInsights=function(t,r,n){var i=this;t===void 0&&(t=!1);var a=this;function s(c){if(c){var o="";S(a._snippetVersion)||(o+=a._snippetVersion),t&&(o+=".lg"),a.context&&a.context.internal&&(a.context.internal.snippetVer=o||"-"),$(a,function(u,f){U(u)&&!j(f)&&u&&u[0]!=="_"&&Ko.indexOf(u)===-1&&(c[u]=f)})}}return t&&a.config.extensions&&a.config.extensions.length>0&&Pe("Extensions not allowed in legacy mode"),ft(a.core,function(){return"AISKU.loadAppInsights"},function(){var c=[];c.push(a._sender),c.push(a.properties),c.push(a.dependencies),c.push(a.appInsights),a.core.initialize(a.config,c,r,n),a.context=a.properties.context,Zi&&a.context&&(a.context.internal.sdkSrc=Zi),s(a.snippet),a.emptyQueue(),a.pollInternalLogs(),a.addHousekeepingBeforeUnload(i)}),a},e.prototype.updateSnippetDefinitions=function(t){qn(t,this,function(r){return r&&Ko.indexOf(r)===-1})},e.prototype.emptyQueue=function(){var t=this;try{if(Ae(t.snippet.queue)){for(var r=t.snippet.queue.length,n=0;n<r;n++){var i=t.snippet.queue[n];i()}t.snippet.queue=void 0,delete t.snippet.queue}}catch(s){var a={};s&&j(s.toString)&&(a.exception=s.toString())}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(t){if(_t()||nn()){var r=function(){t.onunloadFlush(!1),k(t.appInsights.core._extensions,function(i){if(i.identifier===At)return i&&i.context&&i.context._sessionManager&&i.context._sessionManager.backup(),-1})};if(!t.appInsights.config.disableFlushOnBeforeUnload){var n=Et("beforeunload",r);n=Et("unload",r)||n,n=Et("pagehide",r)||n,n=Et("visibilitychange",r)||n,!n&&!ei()&&t.appInsights.core.logger.throwInternal(y.CRITICAL,h.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}t.appInsights.config.disableFlushOnUnload||(Et("pagehide",r),Et("visibilitychange",r))}},e.prototype.getSender=function(){return this._sender},e.prototype.getSKUDefaults=function(){var t=this;t.config.diagnosticLogInterval=t.config.diagnosticLogInterval&&t.config.diagnosticLogInterval>0?t.config.diagnosticLogInterval:1e4},e}();(function(){var e=null,t=!1,r=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(e=n.src)}catch(c){}if(e)try{var i=e.toLowerCase();if(i){for(var a="",s=0;s<r.length;s++)if(i.indexOf(r[s])!==-1){a="cdn"+(s+1),i.indexOf("/scripts/")===-1&&(i.indexOf("/next/")!==-1?a+="-next":i.indexOf("/beta/")!==-1&&(a+="-beta")),Zi=a+(t?".mod":"");break}}}catch(c){}})();var ae=is(rs("vscode")),Dn=class{constructor(t,r,n,i,a){this.extensionId=t;this.extensionVersion=r;this.telemetryAppender=n;this.osShim=i;this.firstParty=!1;this.userOptIn=!1;this.firstParty=!!a,this.updateUserOptStatus(),ae.env.onDidChangeTelemetryEnabled!==void 0?this.optOutListener=ae.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus()):this.optOutListener=ae.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus())}updateUserOptStatus(){let t=ae.workspace.getConfiguration(Dn.TELEMETRY_CONFIG_ID),r=ae.env.isTelemetryEnabled===void 0?t.get(Dn.TELEMETRY_CONFIG_ENABLED_ID,!0):ae.env.isTelemetryEnabled;this.userOptIn!==r&&(this.userOptIn=r)}cleanRemoteName(t){if(!t)return"none";let r="other";return["ssh-remote","dev-container","attached-container","wsl"].forEach(n=>{t.indexOf(`${n}+`)===0&&(r=n)}),r}get extension(){return this._extension===void 0&&(this._extension=ae.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(t,r){if(t===null||typeof t!="object"||typeof r!="function")return t;let n={};for(let i in t)n[i]=r(i,t[i]);return n}shouldSendErrorTelemetry(){return this.firstParty?this.cleanRemoteName(ae.env.remoteName)!=="other"?!0:!(this.extension===void 0||this.extension.extensionKind===ae.ExtensionKind.Workspace||ae.env.uiKind===ae.UIKind.Web):!0}getCommonProperties(){let t=Object.create(null);if(t["common.os"]=this.osShim.platform,t["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),t["common.extname"]=this.extensionId,t["common.extversion"]=this.extensionVersion,ae&&ae.env){switch(t["common.vscodemachineid"]=ae.env.machineId,t["common.vscodesessionid"]=ae.env.sessionId,t["common.vscodeversion"]=ae.version,t["common.isnewappinstall"]=ae.env.isNewAppInstall,ae.env.uiKind){case ae.UIKind.Web:t["common.uikind"]="web";break;case ae.UIKind.Desktop:t["common.uikind"]="desktop";break;default:t["common.uikind"]="unknown"}t["common.remotename"]=this.cleanRemoteName(ae.env.remoteName)}return t}anonymizeFilePaths(t,r){if(t==null)return"";let n=[new RegExp(ae.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")];this.extension&&n.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=t;if(r){let a=[];for(let u of n)for(;;){let f=u.exec(t);if(!f)break;a.push([f.index,u.lastIndex])}let s=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,c=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g,o=0;for(i="";;){let u=c.exec(t);if(!u)break;!s.test(u[0])&&a.every(([f,l])=>u.index<f||u.index>=l)&&(i+=t.substring(o,u.index)+"<REDACTED: user-file-path>",o=c.lastIndex)}o<t.length&&(i+=t.substr(o))}for(let a of n)i=i.replace(a,"");return i}sendTelemetryEvent(t,r,n){if(this.userOptIn&&t!==""){r={...r,...this.getCommonProperties()};let i=this.cloneAndChange(r,(a,s)=>this.anonymizeFilePaths(s,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${t}`,{properties:i,measurements:n})}}sendTelemetryErrorEvent(t,r,n,i){if(this.userOptIn&&t!==""){r={...r,...this.getCommonProperties()};let a=this.cloneAndChange(r,(s,c)=>this.shouldSendErrorTelemetry()?this.anonymizeFilePaths(c,this.firstParty):i===void 0||i.indexOf(s)!==-1?"REDACTED":this.anonymizeFilePaths(c,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${t}`,{properties:a,measurements:n})}}sendTelemetryException(t,r,n){if(this.shouldSendErrorTelemetry()&&this.userOptIn&&t){r={...r,...this.getCommonProperties()};let i=this.cloneAndChange(r,(a,s)=>this.anonymizeFilePaths(s,this.firstParty));this.telemetryAppender.logException(t,{properties:i,measurements:n})}}dispose(){return this.telemetryAppender.flush(),this.optOutListener.dispose()}},Br=Dn;Br.TELEMETRY_CONFIG_ID="telemetry",Br.TELEMETRY_CONFIG_ENABLED_ID="enableTelemetry";var Wo=class{constructor(t){let r;t&&t.indexOf("AIF-")===0&&(r="https://vortex.data.microsoft.com/collect/v1"),this._aiClient=new Qi({config:{instrumentationKey:t,endpointUrl:r,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0}}),this._aiClient.loadAppInsights(),r&&fetch(r).catch(()=>this._aiClient=void 0)}logEvent(t,r){!this._aiClient||this._aiClient.trackEvent({name:t},xr(xr({},r.properties),r.measurements))}logException(t,r){!this._aiClient||this._aiClient.trackException({exception:t,properties:xr(xr({},r.properties),r.measurements)})}flush(){return this._aiClient&&(this._aiClient.flush(),this._aiClient=void 0),Promise.resolve(void 0)}},Jo=class extends Br{constructor(t,r,n,i){let a=new Wo(n);n&&n.indexOf("AIF-")===0&&(i=!0),super(t,r,a,{release:navigator.appVersion,platform:"web"},i)}};})();
/*!
 * Microsoft Dynamic Proto Utility, 1.1.4
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
